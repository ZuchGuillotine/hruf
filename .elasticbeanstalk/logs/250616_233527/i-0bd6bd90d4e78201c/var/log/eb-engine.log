2025/06/17 06:10:58.113818 [INFO] Starting...
2025/06/17 06:10:58.113902 [INFO] Starting EBPlatform-PlatformEngine
2025/06/17 06:10:58.113990 [INFO] reading event message file
2025/06/17 06:10:58.114396 [INFO] Engine received EB command userdata-exec

2025/06/17 06:10:58.122261 [INFO] Running command: /opt/aws/bin/cfn-get-metadata -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBAutoScalingGroup --region us-west-2
2025/06/17 06:10:59.909348 [INFO] Running command: /opt/aws/bin/cfn-get-metadata -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBBeanstalkMetadata --region us-west-2
2025/06/17 06:11:00.667436 [INFO] This is a workflow controlled instance.
2025/06/17 06:11:00.667531 [INFO] Engine command: (env-launch)

2025/06/17 06:11:00.668540 [INFO] Executing instruction: SyncClock
2025/06/17 06:11:00.668546 [INFO] Starting SyncClock
2025/06/17 06:11:00.668556 [INFO] Running command: /usr/bin/chronyc tracking
2025/06/17 06:11:00.698564 [INFO] Reference ID    : A9FEA97B (169.254.169.123)
Stratum         : 4
Ref time (UTC)  : Tue Jun 17 06:10:59 2025
System time     : 0.000000000 seconds fast of NTP time
Last offset     : -1.139223099 seconds
RMS offset      : 1.139223099 seconds
Frequency       : 9.817 ppm fast
Residual freq   : -22.843 ppm
Skew            : 0.071 ppm
Root delay      : 0.000312090 seconds
Root dispersion : 0.000537841 seconds
Update interval : 0.0 seconds
Leap status     : Normal

2025/06/17 06:11:00.698595 [INFO] Running command: /usr/bin/chronyc -a makestep
2025/06/17 06:11:00.702170 [INFO] 200 OK

2025/06/17 06:11:00.702237 [INFO] Skipping Configure OS
2025/06/17 06:11:00.702244 [INFO] Skipping LockRepo
2025/06/17 06:11:00.702249 [INFO] Skipping GenerateEBBanner
2025/06/17 06:11:00.702254 [INFO] Skipping Install Process Manager
2025/06/17 06:11:00.702259 [INFO] Skipping install syslog
2025/06/17 06:11:00.702264 [INFO] Skipping install cron
2025/06/17 06:11:00.702269 [INFO] Skipping install proxy
2025/06/17 06:11:00.702274 [INFO] Skipping installhealthd
2025/06/17 06:11:00.702279 [INFO] Skipping Install Log Streaming Manager
2025/06/17 06:11:00.702284 [INFO] Skipping install X-Ray
2025/06/17 06:11:00.702289 [INFO] Skipping install Third Party License
2025/06/17 06:11:00.702295 [INFO] Instance has NOT been bootstrapped
2025/06/17 06:11:00.702298 [INFO] Executing instruction: installSqsd
2025/06/17 06:11:00.702302 [INFO] This is a web server environment instance, skip install sqsd daemon ...
2025/06/17 06:11:00.702307 [INFO] Instance has NOT been bootstrapped
2025/06/17 06:11:00.702310 [INFO] Executing instruction: bootstraphealthd
2025/06/17 06:11:00.702314 [INFO] this is an enhanced health env ...
2025/06/17 06:11:00.702327 [INFO] bootstrap healthd....
2025/06/17 06:11:00.702339 [INFO] Running command: /usr/bin/id -u healthd || /usr/sbin/useradd --user-group healthd -s /sbin/nologin --create-home
2025/06/17 06:11:00.941929 [INFO] /usr/bin/id: ‘healthd’: no such user

2025/06/17 06:11:00.942336 [INFO] none proxy, skip creating proxy dir for healthd
2025/06/17 06:11:00.942354 [INFO] bootstrap healthd....
2025/06/17 06:11:00.942368 [INFO] Running command: /usr/bin/id -u healthd || /usr/sbin/useradd --user-group healthd -s /sbin/nologin --create-home
2025/06/17 06:11:00.946967 [INFO] 1001

2025/06/17 06:11:00.947322 [INFO] configure bundle log for healthd...
2025/06/17 06:11:00.947395 [INFO] Skipping Install yum packages
2025/06/17 06:11:00.947401 [INFO] Skipping install docker-compose
2025/06/17 06:11:00.947407 [INFO] Skipping Configure Docker Daemon
2025/06/17 06:11:00.947412 [INFO] Skipping MarkBaked
2025/06/17 06:11:00.947420 [INFO] Instance has NOT been bootstrapped
2025/06/17 06:11:00.947424 [INFO] Executing instruction: TuneSystemSettings
2025/06/17 06:11:00.947427 [INFO] Starting TuneSystemSettings
2025/06/17 06:11:00.947431 [INFO] Instance has NOT been bootstrapped
2025/06/17 06:11:00.949424 [INFO] Executing instruction: GetSetupLogRotate
2025/06/17 06:11:00.949433 [INFO] Initialize LogRotate files and directories
2025/06/17 06:11:00.975902 [INFO] Instance has NOT been bootstrapped
2025/06/17 06:11:00.975923 [INFO] Executing instruction: BootstrapCFNHup
2025/06/17 06:11:00.975927 [INFO] Bootstrap cfn-hup
2025/06/17 06:11:00.977972 [INFO] Copying file /opt/elasticbeanstalk/config/private/aws-eb-command-handler.conf to /etc/cfn/hooks.d/aws-eb-command-handler.conf
2025/06/17 06:11:00.980135 [INFO] Executing instruction: StartCFNHup
2025/06/17 06:11:00.980144 [INFO] Start cfn-hup
2025/06/17 06:11:00.980162 [INFO] Running command: systemctl show -p PartOf cfn-hup.service
2025/06/17 06:11:01.010008 [INFO] cfn-hup is not registered with EB yet, registering it now
2025/06/17 06:11:01.010038 [INFO] Running command: systemctl show -p PartOf cfn-hup.service
2025/06/17 06:11:01.030648 [INFO] Running command: systemctl daemon-reload
2025/06/17 06:11:01.612198 [INFO] Running command: systemctl reset-failed
2025/06/17 06:11:01.625259 [INFO] Running command: systemctl is-enabled aws-eb.target
2025/06/17 06:11:01.635841 [INFO] Running command: systemctl enable aws-eb.target
2025/06/17 06:11:02.205339 [INFO] Running command: systemctl start aws-eb.target
2025/06/17 06:11:02.227304 [INFO] Running command: systemctl enable cfn-hup.service
2025/06/17 06:11:02.778942 [INFO] Created symlink /etc/systemd/system/multi-user.target.wants/cfn-hup.service → /etc/systemd/system/cfn-hup.service.

2025/06/17 06:11:02.778978 [INFO] Running command: systemctl is-active cfn-hup.service
2025/06/17 06:11:02.793648 [INFO] cfn-hup process is not running, starting it now
2025/06/17 06:11:02.793676 [INFO] Running command: systemctl show -p PartOf cfn-hup.service
2025/06/17 06:11:02.820024 [INFO] Running command: systemctl is-active cfn-hup.service
2025/06/17 06:11:02.830829 [INFO] Running command: systemctl start cfn-hup.service
2025/06/17 06:11:02.966240 [INFO] Instance has NOT been bootstrapped
2025/06/17 06:11:02.966257 [INFO] Executing instruction: SetupPublishLogCronjob
2025/06/17 06:11:02.966261 [INFO] Setup publish logs cron job...
2025/06/17 06:11:02.966265 [INFO] Copying file /opt/elasticbeanstalk/config/private/logtasks/cron/publishlogs to /etc/cron.d/publishlogs
2025/06/17 06:11:02.969555 [INFO] Executing instruction: Start Docker
2025/06/17 06:11:02.969568 [INFO] Starting Docker...
2025/06/17 06:11:02.969640 [INFO] Copying file /opt/elasticbeanstalk/config/private/docker-log.conf to /etc/systemd/system/docker.service.d/docker-log.conf
2025/06/17 06:11:02.971737 [INFO] Copying file /opt/elasticbeanstalk/config/private/docker-rsyslog.conf to /etc/rsyslog.d/docker-log.conf
2025/06/17 06:11:02.973936 [INFO] Running command: systemctl restart rsyslog.service
2025/06/17 06:11:03.536875 [INFO] Running command: systemctl show -p PartOf docker.service
2025/06/17 06:11:03.571093 [INFO] Running command: systemctl daemon-reload
2025/06/17 06:11:04.121037 [INFO] Running command: systemctl reset-failed
2025/06/17 06:11:04.140188 [INFO] Running command: systemctl show -p PartOf docker.service
2025/06/17 06:11:04.156459 [INFO] Running command: systemctl is-active docker.service
2025/06/17 06:11:04.173621 [INFO] Running command: systemctl start docker.service
2025/06/17 06:11:06.912304 [INFO] Instance has NOT been bootstrapped
2025/06/17 06:11:06.912326 [INFO] Executing instruction: Setup Docker Options
2025/06/17 06:11:06.912329 [INFO] Setting up configurations for docker platform
2025/06/17 06:11:06.923717 [INFO] Running command: systemctl show -p PartOf eb-docker-events.service
2025/06/17 06:11:06.961396 [INFO] Running command: systemctl daemon-reload
2025/06/17 06:11:07.484855 [INFO] Running command: systemctl reset-failed
2025/06/17 06:11:07.504738 [INFO] Running command: systemctl enable eb-docker-events.service
2025/06/17 06:11:08.089950 [INFO] Created symlink /etc/systemd/system/docker.service.wants/eb-docker-events.service → /etc/systemd/system/eb-docker-events.service.

2025/06/17 06:11:08.089988 [INFO] Running command: systemctl show -p PartOf eb-docker-events.service
2025/06/17 06:11:08.105777 [INFO] Running command: systemctl is-active eb-docker-events.service
2025/06/17 06:11:08.120284 [INFO] Running command: systemctl start eb-docker-events.service
2025/06/17 06:11:08.251577 [INFO] Instance has NOT been bootstrapped
2025/06/17 06:11:08.251596 [INFO] Executing instruction: MarkBootstrapped
2025/06/17 06:11:08.251599 [INFO] Starting MarkBootstrapped
2025/06/17 06:11:08.251604 [INFO] Instance has NOT been bootstrapped
2025/06/17 06:11:08.251697 [INFO] Marked instance as Bootstrapped
2025/06/17 06:11:08.251700 [INFO] Executing instruction: Save CFN Stack Info
2025/06/17 06:11:08.251759 [INFO] Executing cleanup logic
2025/06/17 06:11:08.251768 [INFO] Platform Engine finished execution on command: env-launch

2025/06/17 06:13:01.161874 [INFO] Starting...
2025/06/17 06:13:01.161927 [INFO] Starting EBPlatform-PlatformEngine
2025/06/17 06:13:01.161950 [INFO] reading event message file
2025/06/17 06:13:01.162235 [INFO] Engine received EB command cfn-hup-exec

2025/06/17 06:13:01.227481 [INFO] Running command: /opt/aws/bin/cfn-get-metadata -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBAutoScalingGroup --region us-west-2
2025/06/17 06:13:01.520545 [INFO] Running command: /opt/aws/bin/cfn-get-metadata -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBBeanstalkMetadata --region us-west-2
2025/06/17 06:13:01.804763 [INFO] checking whether command app-deploy is applicable to this instance...
2025/06/17 06:13:01.804779 [INFO] this command is applicable to the instance, thus instance should execute command
2025/06/17 06:13:01.804783 [INFO] Engine command: (app-deploy)

2025/06/17 06:13:01.804787 [INFO] Downloading EB Application...
2025/06/17 06:13:01.804789 [INFO] Region: us-west-2
2025/06/17 06:13:01.804791 [INFO] envID: e-xmev5d2dxc
2025/06/17 06:13:01.804793 [INFO] envBucket: elasticbeanstalk-us-west-2-881490119784
2025/06/17 06:13:01.804795 [INFO] accountID: 881490119784
2025/06/17 06:13:01.804798 [INFO] Using manifest file name from command request
2025/06/17 06:13:01.804803 [INFO] Unable to get version manifest file.
2025/06/17 06:13:01.804805 [INFO] Downloading latest manifest available.
2025/06/17 06:13:01.804807 [INFO] Download latest app version manifest
2025/06/17 06:13:01.804938 [INFO] resources/environments/e-xmev5d2dxc/_runtime/versions/manifest
2025/06/17 06:13:01.845849 [INFO] latestManifest key *: resources/environments/e-xmev5d2dxc/_runtime/versions/manifest_1750140606397

2025/06/17 06:13:01.846065 [INFO] Downloading: bucket: elasticbeanstalk-us-west-2-881490119784, object: resources/environments/e-xmev5d2dxc/_runtime/versions/manifest_1750140606397, expected bucket owner: 881490119784
2025/06/17 06:13:01.880674 [INFO] Download successful162bytes downloaded
2025/06/17 06:13:01.880765 [INFO] Trying to read and parse version manifest...
2025/06/17 06:13:01.880846 [INFO] Downloading: bucket: elasticbeanstalk-us-west-2-881490119784, object: resources/environments/e-xmev5d2dxc/_runtime/_versions/stacktracker-app-v3/app-d01c-250616_230956338389, expected bucket owner: 881490119784
2025/06/17 06:13:02.016480 [INFO] Download successful6705586bytes downloaded
2025/06/17 06:13:02.016852 [INFO] Executing instruction: ElectLeader
2025/06/17 06:13:02.016858 [INFO] Running leader election for instance i-0bd6bd90d4e78201c...
2025/06/17 06:13:02.016861 [INFO] Calling the cfn-elect-cmd-leader to elect the command leader.
2025/06/17 06:13:02.016870 [INFO] Running command: /opt/aws/bin/cfn-elect-cmd-leader --stack arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf --command-name ElasticBeanstalkCommand-AWSEBAutoScalingGroup --invocation-id e2eb7985-4513-40c5-9b3d-681e97ee684f --listener-id i-0bd6bd90d4e78201c --region us-west-2
2025/06/17 06:13:02.314194 [INFO] Instance is Leader.
2025/06/17 06:13:02.314237 [INFO] Executing instruction: stopSqsd
2025/06/17 06:13:02.314241 [INFO] This is a web server environment instance, skip stop sqsd daemon ...
2025/06/17 06:13:02.314253 [INFO] Executing instruction: PreBuildEbExtension
2025/06/17 06:13:02.314256 [INFO] Starting executing the config set Infra-EmbeddedPreBuild.
2025/06/17 06:13:02.314269 [INFO] Running command: /opt/aws/bin/cfn-init -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBAutoScalingGroup --region us-west-2 --configsets Infra-EmbeddedPreBuild
2025/06/17 06:13:02.609268 [INFO] Finished executing the config set Infra-EmbeddedPreBuild.

2025/06/17 06:13:02.609303 [INFO] Executing instruction: StagedockerApplication
2025/06/17 06:13:02.609313 [INFO] Running command: docker ps -a -q -f status=running
2025/06/17 06:13:02.628541 [INFO] Pruning containers ...
2025/06/17 06:13:02.628608 [INFO] Running command: docker ps -a
2025/06/17 06:13:02.644637 [INFO] CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES

2025/06/17 06:13:02.644673 [INFO] Running command: docker container prune -f
2025/06/17 06:13:02.661813 [INFO] Total reclaimed space: 0B

2025/06/17 06:13:02.661840 [INFO] Running command: docker ps -a
2025/06/17 06:13:02.676219 [INFO] CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES

2025/06/17 06:13:02.676259 [INFO] Recreating /var/app/staging/
2025/06/17 06:13:02.676363 [INFO] Recreating /var/log/eb-docker/containers/eb-current-app
2025/06/17 06:13:02.676508 [INFO] Running command: /bin/file -m /opt/elasticbeanstalk/config/private/beanstalk-magic -b --mime-type /opt/elasticbeanstalk/deployment/app_source_bundle
2025/06/17 06:13:02.684011 [INFO] application/zip

2025/06/17 06:13:02.684030 [INFO] app source bundle is zip file ...
2025/06/17 06:13:02.684034 [INFO] extracting /opt/elasticbeanstalk/deployment/app_source_bundle to /var/app/staging/
2025/06/17 06:13:02.684044 [INFO] Running command: /usr/bin/unzip -q -o /opt/elasticbeanstalk/deployment/app_source_bundle -d /var/app/staging/
2025/06/17 06:13:02.809484 [INFO] finished extracting /opt/elasticbeanstalk/deployment/app_source_bundle to /var/app/staging/ successfully
2025/06/17 06:13:02.809505 [INFO] Executing instruction: RunAppDeployPreBuildHooks
2025/06/17 06:13:02.809579 [INFO] Executing platform hooks in .platform/hooks/prebuild/
2025/06/17 06:13:02.809608 [INFO] The dir .platform/hooks/prebuild/ does not exist
2025/06/17 06:13:02.809610 [INFO] Finished running scripts in /var/app/staging/.platform/hooks/prebuild
2025/06/17 06:13:02.809616 [INFO] Executing instruction: Generate environment file
2025/06/17 06:13:02.809665 [INFO] Executing instruction: Docker Specific Build Application
2025/06/17 06:13:02.809670 [INFO] start build docker app
2025/06/17 06:13:02.809683 [INFO] fetching image names from Dockerfile /var/app/staging/Dockerfile
2025/06/17 06:13:02.809790 [INFO] found images [node:20-slim node:20-slim] in Dockerfile /var/app/staging/Dockerfile
2025/06/17 06:13:02.809795 [INFO] pull docker image if update is not false in Dockerrun.aws.json
2025/06/17 06:13:02.809807 [INFO] Running command: docker pull node:20-slim
2025/06/17 06:13:07.918013 [INFO] 20-slim: Pulling from library/node
dad67da3f26b: Pulling fs layer
f4d50efedfc3: Pulling fs layer
dce1efe5dcc7: Pulling fs layer
dfe145b807d3: Pulling fs layer
eee71ccbe522: Pulling fs layer
dfe145b807d3: Waiting
eee71ccbe522: Waiting
f4d50efedfc3: Verifying Checksum
f4d50efedfc3: Download complete
dad67da3f26b: Verifying Checksum
dad67da3f26b: Download complete
dce1efe5dcc7: Verifying Checksum
dce1efe5dcc7: Download complete
dfe145b807d3: Verifying Checksum
dfe145b807d3: Download complete
eee71ccbe522: Verifying Checksum
eee71ccbe522: Download complete
dad67da3f26b: Pull complete
f4d50efedfc3: Pull complete
dce1efe5dcc7: Pull complete
dfe145b807d3: Pull complete
eee71ccbe522: Pull complete
Digest: sha256:7cd3fbc830c75c92256fe1122002add9a1c025831af8770cd0bf8e45688ef661
Status: Downloaded newer image for node:20-slim
docker.io/library/node:20-slim

2025/06/17 06:13:07.918032 [INFO] successfully execute command: docker pull node:20-slim
2025/06/17 06:13:07.918035 [INFO] successfully pulled docker image node:20-slim
2025/06/17 06:13:07.918056 [INFO] Running command: docker pull node:20-slim
2025/06/17 06:13:08.643402 [INFO] 20-slim: Pulling from library/node
Digest: sha256:7cd3fbc830c75c92256fe1122002add9a1c025831af8770cd0bf8e45688ef661
Status: Image is up to date for node:20-slim
docker.io/library/node:20-slim

2025/06/17 06:13:08.643423 [INFO] successfully execute command: docker pull node:20-slim
2025/06/17 06:13:08.643426 [INFO] successfully pulled docker image node:20-slim
2025/06/17 06:13:08.643429 [INFO] start to build docker image
2025/06/17 06:13:08.643442 [INFO] Running command: docker build -t aws_beanstalk/staging-app /var/app/staging/
2025/06/17 06:14:42.301262 [INFO] #0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.40kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/node:20-slim
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 137B done
#3 DONE 0.0s

#4 [internal] load build context
#4 ...

#5 [builder 1/6] FROM docker.io/library/node:20-slim
#5 DONE 0.1s

#4 [internal] load build context
#4 transferring context: 13.08MB 0.2s done
#4 DONE 0.2s

#6 [builder 2/6] WORKDIR /app
#6 DONE 0.8s

#7 [builder 3/6] COPY package*.json ./
#7 DONE 0.0s

#8 [builder 4/6] RUN npm ci
#8 6.788 npm warn deprecated rimraf@3.0.2: Rimraf versions prior to v4 are no longer supported
#8 8.806 npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
#8 9.246 npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
#8 9.556 npm warn deprecated node-domexception@1.0.0: Use your platform's native DOMException instead
#8 11.70 npm warn deprecated @types/long@5.0.0: This is a stub types definition. long provides its own type definitions, so you do not need this installed.
#8 12.86 npm warn deprecated @humanwhocodes/object-schema@2.0.3: Use @eslint/object-schema instead
#8 12.90 npm warn deprecated @humanwhocodes/config-array@0.13.0: Use @eslint/config-array instead
#8 12.99 npm warn deprecated @esbuild-kit/esm-loader@2.6.5: Merged into tsx: https://tsx.is
#8 13.06 npm warn deprecated @esbuild-kit/core-utils@3.3.2: Merged into tsx: https://tsx.is
#8 18.44 npm warn deprecated eslint@8.57.1: This version is no longer supported. Please see https://eslint.org/version-support for other options.
#8 25.30 
#8 25.30 added 1169 packages, and audited 1170 packages in 25s
#8 25.30 
#8 25.30 199 packages are looking for funding
#8 25.30   run `npm fund` for details
#8 25.34 
#8 25.34 6 vulnerabilities (1 low, 5 moderate)
#8 25.34 
#8 25.34 To address issues that do not require attention, run:
#8 25.34   npm audit fix
#8 25.34 
#8 25.34 To address all issues (including breaking changes), run:
#8 25.34   npm audit fix --force
#8 25.34 
#8 25.34 Run `npm audit` for details.
#8 25.34 npm notice
#8 25.34 npm notice New major version of npm available! 10.8.2 -> 11.4.2
#8 25.34 npm notice Changelog: https://github.com/npm/cli/releases/tag/v11.4.2
#8 25.34 npm notice To update run: npm install -g npm@11.4.2
#8 25.34 npm notice
#8 DONE 27.5s

#9 [builder 5/6] COPY . .
#9 DONE 0.1s

#10 [builder 6/6] RUN npx vite build && npx esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist/server
#10 1.104 vite v5.4.19 building for production...
#10 1.200 transforming...
#10 11.72 ✓ 2904 modules transformed.
#10 12.32 rendering chunks...
#10 12.75 computing gzip size...
#10 12.78 ../dist/index.html                         4.00 kB │ gzip:   1.37 kB
#10 12.78 ../dist/assets/index-Djak2wtN.css         98.41 kB │ gzip:  15.90 kB
#10 12.78 ../dist/assets/contact-C755iz31.js         0.78 kB │ gzip:   0.41 kB
#10 12.78 ../dist/assets/index-CvWaMnp7.js           1.01 kB │ gzip:   0.47 kB
#10 12.78 ../dist/assets/index-CBzjYaxK.js           1.80 kB │ gzip:   0.86 kB
#10 12.78 ../dist/assets/_slug_-EOtN3fpX.js          2.92 kB │ gzip:   1.10 kB
#10 12.78 ../dist/assets/blog-S0VszuRy.js            6.40 kB │ gzip:   2.21 kB
#10 12.78 ../dist/assets/query-vendor-CjrkeIZG.js   38.90 kB │ gzip:  11.61 kB
#10 12.78 ../dist/assets/ui-vendor-Dfzj-_mw.js      83.35 kB │ gzip:  27.99 kB
#10 12.78 ../dist/assets/react-vendor-DrrtegDc.js  146.48 kB │ gzip:  47.86 kB
#10 12.78 ../dist/assets/index-DS_IUsc4.js         841.64 kB │ gzip: 232.35 kB
#10 12.78 
#10 12.78 (!) Some chunks are larger than 500 kB after minification. Consider:
#10 12.78 - Using dynamic import() to code-split the application
#10 12.78 - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#10 12.78 - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#10 12.78 ✓ built in 11.63s
#10 13.25 
#10 13.25   dist/server/index.js  364.7kb
#10 13.25 
#10 13.25 ⚡ Done in 50ms
#10 DONE 13.3s

#11 [stage-1 3/6] COPY --from=builder /app /app
#11 DONE 6.4s

#12 [stage-1 4/6] COPY --chown=node:node certs ./certs
#12 DONE 0.0s

#13 [stage-1 5/6] RUN chmod 644 /app/certs/stcert.pem
#13 DONE 0.3s

#14 [stage-1 6/6] RUN ls -l /app/certs/stcert.pem &&     echo "Certificate file exists" &&     cat /app/certs/stcert.pem | head -n 1
#14 0.381 -rw-r--r--. 1 node node 160792 Jun 15 21:00 /app/certs/stcert.pem
#14 0.381 Certificate file exists
#14 0.383 -----BEGIN CERTIFICATE-----
#14 DONE 0.4s

#15 exporting to image
#15 exporting layers
#15 exporting layers 37.6s done
#15 writing image sha256:0c7dc932ae0dd43a4948c2c9d77fe9b4c1181da6eb8baee33922843b43443bb6 done
#15 naming to docker.io/aws_beanstalk/staging-app done
#15 DONE 37.6s

2025/06/17 06:14:42.301290 [INFO] successfully execute command: docker build -t aws_beanstalk/staging-app /var/app/staging/
2025/06/17 06:14:42.301295 [INFO] successfully build docker image
2025/06/17 06:14:42.301298 [INFO] save staging docker image id
2025/06/17 06:14:42.301311 [INFO] Running command: docker images aws_beanstalk/staging-app -q
2025/06/17 06:14:42.320286 [INFO] 0c7dc932ae0d

2025/06/17 06:14:42.320405 [INFO] Executing instruction: configure X-Ray
2025/06/17 06:14:42.320413 [INFO] X-Ray is not enabled.
2025/06/17 06:14:42.320416 [INFO] Executing instruction: configure proxy Nginx
2025/06/17 06:14:42.320492 [INFO] Recreating /var/proxy/staging/nginx
2025/06/17 06:14:42.327470 [INFO] Executing instruction: configure healthd specific proxy conf
2025/06/17 06:14:42.329609 [INFO] Running command: systemctl show -p PartOf healthd.service
2025/06/17 06:14:42.342570 [INFO] Running command: systemctl daemon-reload
2025/06/17 06:14:42.594724 [INFO] Running command: systemctl reset-failed
2025/06/17 06:14:42.603506 [INFO] Running command: systemctl is-enabled aws-eb.target
2025/06/17 06:14:42.611387 [INFO] Running command: systemctl enable aws-eb.target
2025/06/17 06:14:42.885955 [INFO] Running command: systemctl start aws-eb.target
2025/06/17 06:14:42.893781 [INFO] Running command: systemctl enable healthd.service
2025/06/17 06:14:43.196830 [INFO] Created symlink /etc/systemd/system/multi-user.target.wants/healthd.service → /etc/systemd/system/healthd.service.

2025/06/17 06:14:43.196863 [INFO] Running command: systemctl show -p PartOf healthd.service
2025/06/17 06:14:43.207632 [INFO] Running command: systemctl is-active healthd.service
2025/06/17 06:14:43.214919 [INFO] Running command: systemctl start healthd.service
2025/06/17 06:14:43.290610 [INFO] Copying file /opt/elasticbeanstalk/config/private/healthd/healthd_logformat.conf to /var/proxy/staging/nginx/conf.d/healthd_logformat.conf
2025/06/17 06:14:43.291781 [INFO] Copying file /opt/elasticbeanstalk/config/private/healthd/healthd_nginx.conf to /var/proxy/staging/nginx/conf.d/elasticbeanstalk/healthd.conf
2025/06/17 06:14:43.292969 [INFO] Executing instruction: configure log streaming
2025/06/17 06:14:43.292977 [INFO] log streaming is not enabled
2025/06/17 06:14:43.292980 [INFO] disable log stream
2025/06/17 06:14:43.292988 [INFO] Running command: systemctl show -p PartOf amazon-cloudwatch-agent.service
2025/06/17 06:14:43.307961 [INFO] Running command: systemctl stop amazon-cloudwatch-agent.service
2025/06/17 06:14:43.323453 [INFO] Executing instruction: GetToggleForceRotate
2025/06/17 06:14:43.323475 [INFO] Checking if logs need forced rotation
2025/06/17 06:14:43.323494 [INFO] Running command: /opt/aws/bin/cfn-get-metadata -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBAutoScalingGroup --region us-west-2
2025/06/17 06:14:43.665861 [INFO] Running command: /opt/aws/bin/cfn-get-metadata -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBBeanstalkMetadata --region us-west-2
2025/06/17 06:14:43.977631 [INFO] Procfile not found. Generating default rsyslog config
2025/06/17 06:14:43.979820 [INFO] Running command: systemctl restart rsyslog.service
2025/06/17 06:14:44.396844 [INFO] Executing instruction: Configure Docker Logging
2025/06/17 06:14:44.418883 [INFO] Executing instruction: PostBuildEbExtension
2025/06/17 06:14:44.418902 [INFO] Starting executing the config set Infra-EmbeddedPostBuild.
2025/06/17 06:14:44.418914 [INFO] Running command: /opt/aws/bin/cfn-init -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBAutoScalingGroup --region us-west-2 --configsets Infra-EmbeddedPostBuild
2025/06/17 06:14:44.721485 [INFO] Finished executing the config set Infra-EmbeddedPostBuild.

2025/06/17 06:14:44.721513 [INFO] Executing instruction: CleanEbExtensions
2025/06/17 06:14:44.721541 [INFO] Cleaned ebextensions subdirectories from app staging directory.
2025/06/17 06:14:44.721544 [INFO] Executing instruction: RunAppDeployPreDeployHooks
2025/06/17 06:14:44.721565 [INFO] Executing platform hooks in .platform/hooks/predeploy/
2025/06/17 06:14:44.721577 [INFO] The dir .platform/hooks/predeploy/ does not exist
2025/06/17 06:14:44.721580 [INFO] Finished running scripts in /var/app/staging/.platform/hooks/predeploy
2025/06/17 06:14:44.721587 [INFO] Executing instruction: stop X-Ray
2025/06/17 06:14:44.721590 [INFO] stop X-Ray ...
2025/06/17 06:14:44.721601 [INFO] Running command: systemctl show -p PartOf xray.service
2025/06/17 06:14:44.735201 [WARN] stopProcess Warning: process xray is not registered 
2025/06/17 06:14:44.735232 [INFO] Running command: systemctl stop xray.service
2025/06/17 06:14:44.749687 [INFO] Executing instruction: Run Docker Container
2025/06/17 06:14:44.749721 [INFO] this is the first time deploying app...
2025/06/17 06:14:44.749725 [INFO] Removing /var/app/current/ if it exists
2025/06/17 06:14:44.749734 [INFO] Renaming /var/app/staging/ to /var/app/current/
2025/06/17 06:14:44.749761 [INFO] detected new app is not docker compose app
2025/06/17 06:14:44.749888 [INFO] Running command: docker run -d --env-file /opt/elasticbeanstalk/deployment/env.list    0c7dc932ae0d 
2025/06/17 06:14:45.233392 [INFO] 2dcc4747da0aaa5fb06c023a194ad6feadfd13609cdf673ff366648e2d618230

2025/06/17 06:14:50.233844 [INFO] Running command: docker ps | grep -q 2dcc4747da0a
2025/06/17 06:14:50.249344 [ERROR] docker container quit unexpectedly on 2025-06-17 06:14:50.24932603 +0000 UTC: Command docker ps | grep -q 2dcc4747da0a failed with error exit status 1
2025/06/17 06:14:50.249369 [INFO] Running command: docker logs 2dcc4747da0a
2025/06/17 06:14:50.265466 [ERROR] An error occurred during execution of command [app-deploy] - [Run Docker Container]. Stop running the command. Error: failed to run the docker container 2dcc4747da0a: Command docker ps | grep -q 2dcc4747da0a failed with error exit status 1 

2025/06/17 06:14:50.265475 [INFO] Executing cleanup logic
2025/06/17 06:14:50.265563 [INFO] CommandService Response: {"status":"FAILURE","api_version":"1.0","results":[{"status":"FAILURE","msg":"Engine execution has encountered an error.","returncode":1,"events":[{"msg":"Instance deployment: The Docker container unexpectedly ended after it was started.","timestamp":1750140890249,"severity":"ERROR"},{"msg":"Instance deployment failed. For details, see 'eb-engine.log'.","timestamp":1750140890265,"severity":"ERROR"}]}]}

2025/06/17 06:14:50.265746 [INFO] Platform Engine finished execution on command: app-deploy

2025/06/17 06:18:43.788540 [INFO] Starting...
2025/06/17 06:18:43.788596 [INFO] Starting EBPlatform-PlatformEngine
2025/06/17 06:18:43.788621 [INFO] reading event message file
2025/06/17 06:18:43.788943 [INFO] Engine received EB command cfn-hup-exec

2025/06/17 06:18:43.863947 [INFO] Running command: /opt/aws/bin/cfn-get-metadata -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBAutoScalingGroup --region us-west-2
2025/06/17 06:18:44.166179 [INFO] Running command: /opt/aws/bin/cfn-get-metadata -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBBeanstalkMetadata --region us-west-2
2025/06/17 06:18:44.449254 [INFO] checking whether command bundle-log is applicable to this instance...
2025/06/17 06:18:44.449270 [INFO] this command is applicable to the instance, thus instance should execute command
2025/06/17 06:18:44.449274 [INFO] Engine command: (bundle-log)

2025/06/17 06:18:44.449328 [INFO] Executing instruction: GetBundleLogs
2025/06/17 06:18:44.449331 [INFO] Bundle Logs...
2025/06/17 06:18:44.549511 [INFO] Executing cleanup logic
2025/06/17 06:18:44.549583 [INFO] CommandService Response: {"status":"SUCCESS","api_version":"1.0","results":[{"status":"SUCCESS","msg":"Engine execution has succeeded.","returncode":0,"events":[{"msg":"Instance deployment completed successfully.","timestamp":1750141124549,"severity":"INFO"}]}]}

2025/06/17 06:18:44.549668 [INFO] Platform Engine finished execution on command: bundle-log

2025/06/17 06:21:05.230127 [INFO] Starting...
2025/06/17 06:21:05.230176 [INFO] Starting EBPlatform-PlatformEngine
2025/06/17 06:21:05.230199 [INFO] reading event message file
2025/06/17 06:21:05.230471 [INFO] Engine received EB command cfn-hup-exec

2025/06/17 06:21:05.285429 [INFO] Running command: /opt/aws/bin/cfn-get-metadata -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBAutoScalingGroup --region us-west-2
2025/06/17 06:21:05.572741 [INFO] Running command: /opt/aws/bin/cfn-get-metadata -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBBeanstalkMetadata --region us-west-2
2025/06/17 06:21:05.847132 [INFO] checking whether command app-deploy is applicable to this instance...
2025/06/17 06:21:05.847143 [INFO] this command is applicable to the instance, thus instance should execute command
2025/06/17 06:21:05.847145 [INFO] Engine command: (app-deploy)

2025/06/17 06:21:05.847148 [INFO] Downloading EB Application...
2025/06/17 06:21:05.847150 [INFO] Region: us-west-2
2025/06/17 06:21:05.847152 [INFO] envID: e-xmev5d2dxc
2025/06/17 06:21:05.847154 [INFO] envBucket: elasticbeanstalk-us-west-2-881490119784
2025/06/17 06:21:05.847156 [INFO] accountID: 881490119784
2025/06/17 06:21:05.847158 [INFO] Using manifest file name from command request
2025/06/17 06:21:05.847163 [INFO] Manifest name is : manifest_1750141262881
2025/06/17 06:21:05.847165 [INFO] Download app version manifest
2025/06/17 06:21:05.847332 [INFO] Downloading: bucket: elasticbeanstalk-us-west-2-881490119784, object: resources/environments/e-xmev5d2dxc/_runtime/versions/manifest_1750141262881, expected bucket owner: 881490119784
2025/06/17 06:21:05.882716 [INFO] Download successful116bytes downloaded
2025/06/17 06:21:05.882852 [INFO] Trying to read and parse version manifest...
2025/06/17 06:21:05.883312 [INFO] Downloading: bucket: elasticbeanstalk-us-west-2-881490119784, object: resources/environments/e-xmev5d2dxc/_runtime/_versions/stacktracker-app-v3/app-d01c-250616_232056615632, expected bucket owner: 881490119784
2025/06/17 06:21:06.021972 [INFO] Download successful6705586bytes downloaded
2025/06/17 06:21:06.029293 [INFO] Executing instruction: ElectLeader
2025/06/17 06:21:06.029304 [INFO] Running leader election for instance i-0bd6bd90d4e78201c...
2025/06/17 06:21:06.029307 [INFO] Calling the cfn-elect-cmd-leader to elect the command leader.
2025/06/17 06:21:06.029318 [INFO] Running command: /opt/aws/bin/cfn-elect-cmd-leader --stack arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf --command-name ElasticBeanstalkCommand-AWSEBAutoScalingGroup --invocation-id ed4866d9-cdf7-460c-a0d6-41cf9e6b28c6 --listener-id i-0bd6bd90d4e78201c --region us-west-2
2025/06/17 06:21:06.324214 [INFO] Instance is Leader.
2025/06/17 06:21:06.324256 [INFO] Executing instruction: stopSqsd
2025/06/17 06:21:06.324260 [INFO] This is a web server environment instance, skip stop sqsd daemon ...
2025/06/17 06:21:06.324263 [INFO] Executing instruction: PreBuildEbExtension
2025/06/17 06:21:06.324265 [INFO] Starting executing the config set Infra-EmbeddedPreBuild.
2025/06/17 06:21:06.324277 [INFO] Running command: /opt/aws/bin/cfn-init -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBAutoScalingGroup --region us-west-2 --configsets Infra-EmbeddedPreBuild
2025/06/17 06:21:06.617700 [INFO] Finished executing the config set Infra-EmbeddedPreBuild.

2025/06/17 06:21:06.617721 [INFO] Executing instruction: StagedockerApplication
2025/06/17 06:21:06.617730 [INFO] Running command: docker ps -a -q -f status=running
2025/06/17 06:21:06.632779 [INFO] Pruning containers ...
2025/06/17 06:21:06.632815 [INFO] Running command: docker ps -a
2025/06/17 06:21:06.647111 [INFO] CONTAINER ID   IMAGE          COMMAND                  CREATED         STATUS                     PORTS     NAMES
2dcc4747da0a   0c7dc932ae0d   "docker-entrypoint.s…"   6 minutes ago   Exited (1) 6 minutes ago             goofy_maxwell

2025/06/17 06:21:06.647137 [INFO] Running command: docker container prune -f
2025/06/17 06:21:06.673473 [INFO] Deleted Containers:
2dcc4747da0aaa5fb06c023a194ad6feadfd13609cdf673ff366648e2d618230

Total reclaimed space: 0B

2025/06/17 06:21:06.673506 [INFO] Running command: docker ps -a
2025/06/17 06:21:06.686584 [INFO] CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES

2025/06/17 06:21:06.686617 [INFO] Recreating /var/app/staging/
2025/06/17 06:21:06.686679 [INFO] Recreating /var/log/eb-docker/containers/eb-current-app
2025/06/17 06:21:06.686801 [INFO] Running command: /bin/file -m /opt/elasticbeanstalk/config/private/beanstalk-magic -b --mime-type /opt/elasticbeanstalk/deployment/app_source_bundle
2025/06/17 06:21:06.691187 [INFO] application/zip

2025/06/17 06:21:06.691203 [INFO] app source bundle is zip file ...
2025/06/17 06:21:06.691209 [INFO] extracting /opt/elasticbeanstalk/deployment/app_source_bundle to /var/app/staging/
2025/06/17 06:21:06.691217 [INFO] Running command: /usr/bin/unzip -q -o /opt/elasticbeanstalk/deployment/app_source_bundle -d /var/app/staging/
2025/06/17 06:21:06.812192 [INFO] finished extracting /opt/elasticbeanstalk/deployment/app_source_bundle to /var/app/staging/ successfully
2025/06/17 06:21:06.812209 [INFO] Executing instruction: RunAppDeployPreBuildHooks
2025/06/17 06:21:06.812239 [INFO] Executing platform hooks in .platform/hooks/prebuild/
2025/06/17 06:21:06.812267 [INFO] The dir .platform/hooks/prebuild/ does not exist
2025/06/17 06:21:06.812269 [INFO] Finished running scripts in /var/app/staging/.platform/hooks/prebuild
2025/06/17 06:21:06.812274 [INFO] Executing instruction: Generate environment file
2025/06/17 06:21:06.812303 [INFO] Executing instruction: Docker Specific Build Application
2025/06/17 06:21:06.812306 [INFO] start build docker app
2025/06/17 06:21:06.812315 [INFO] fetching image names from Dockerfile /var/app/staging/Dockerfile
2025/06/17 06:21:06.812411 [INFO] found images [node:20-slim node:20-slim] in Dockerfile /var/app/staging/Dockerfile
2025/06/17 06:21:06.812415 [INFO] pull docker image if update is not false in Dockerrun.aws.json
2025/06/17 06:21:06.812430 [INFO] Running command: docker pull node:20-slim
2025/06/17 06:21:07.506438 [INFO] 20-slim: Pulling from library/node
Digest: sha256:7cd3fbc830c75c92256fe1122002add9a1c025831af8770cd0bf8e45688ef661
Status: Image is up to date for node:20-slim
docker.io/library/node:20-slim

2025/06/17 06:21:07.506460 [INFO] successfully execute command: docker pull node:20-slim
2025/06/17 06:21:07.506466 [INFO] successfully pulled docker image node:20-slim
2025/06/17 06:21:07.506483 [INFO] Running command: docker pull node:20-slim
2025/06/17 06:21:08.194769 [INFO] 20-slim: Pulling from library/node
Digest: sha256:7cd3fbc830c75c92256fe1122002add9a1c025831af8770cd0bf8e45688ef661
Status: Image is up to date for node:20-slim
docker.io/library/node:20-slim

2025/06/17 06:21:08.194788 [INFO] successfully execute command: docker pull node:20-slim
2025/06/17 06:21:08.194791 [INFO] successfully pulled docker image node:20-slim
2025/06/17 06:21:08.194793 [INFO] start to build docker image
2025/06/17 06:21:08.194806 [INFO] Running command: docker build -t aws_beanstalk/staging-app /var/app/staging/
2025/06/17 06:21:08.501325 [INFO] #0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.40kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/node:20-slim
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 137B done
#3 DONE 0.0s

#4 [builder 1/6] FROM docker.io/library/node:20-slim
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 54.38kB 0.0s done
#5 DONE 0.0s

#6 [stage-1 5/6] RUN chmod 644 /app/certs/stcert.pem
#6 CACHED

#7 [builder 2/6] WORKDIR /app
#7 CACHED

#8 [builder 5/6] COPY . .
#8 CACHED

#9 [builder 3/6] COPY package*.json ./
#9 CACHED

#10 [builder 4/6] RUN npm ci
#10 CACHED

#11 [builder 6/6] RUN npx vite build && npx esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist/server
#11 CACHED

#12 [stage-1 4/6] COPY --chown=node:node certs ./certs
#12 CACHED

#13 [stage-1 3/6] COPY --from=builder /app /app
#13 CACHED

#14 [stage-1 6/6] RUN ls -l /app/certs/stcert.pem &&     echo "Certificate file exists" &&     cat /app/certs/stcert.pem | head -n 1
#14 CACHED

#15 exporting to image
#15 exporting layers done
#15 writing image sha256:0c7dc932ae0dd43a4948c2c9d77fe9b4c1181da6eb8baee33922843b43443bb6 done
#15 naming to docker.io/aws_beanstalk/staging-app done
#15 DONE 0.0s

2025/06/17 06:21:08.501347 [INFO] successfully execute command: docker build -t aws_beanstalk/staging-app /var/app/staging/
2025/06/17 06:21:08.501350 [INFO] successfully build docker image
2025/06/17 06:21:08.501352 [INFO] save staging docker image id
2025/06/17 06:21:08.501362 [INFO] Running command: docker images aws_beanstalk/staging-app -q
2025/06/17 06:21:08.517923 [INFO] 0c7dc932ae0d

2025/06/17 06:21:08.518053 [INFO] Executing instruction: configure X-Ray
2025/06/17 06:21:08.518060 [INFO] X-Ray is not enabled.
2025/06/17 06:21:08.518062 [INFO] Executing instruction: configure proxy Nginx
2025/06/17 06:21:08.518079 [INFO] Recreating /var/proxy/staging/nginx
2025/06/17 06:21:08.525058 [INFO] Executing instruction: configure healthd specific proxy conf
2025/06/17 06:21:08.527102 [INFO] Running command: systemctl show -p PartOf healthd.service
2025/06/17 06:21:08.536740 [WARN] Warning: process healthd is already registered...
Deregistering the process ...
2025/06/17 06:21:08.536768 [INFO] Running command: systemctl show -p PartOf healthd.service
2025/06/17 06:21:08.545270 [INFO] Running command: systemctl is-active healthd.service
2025/06/17 06:21:08.553163 [INFO] Running command: systemctl show -p PartOf healthd.service
2025/06/17 06:21:08.561544 [INFO] Running command: systemctl stop healthd.service
2025/06/17 06:21:08.671274 [INFO] Running command: systemctl disable healthd.service
2025/06/17 06:21:08.998269 [INFO] Removed "/etc/systemd/system/multi-user.target.wants/healthd.service".

2025/06/17 06:21:08.998457 [INFO] Running command: systemctl daemon-reload
2025/06/17 06:21:09.267245 [INFO] Running command: systemctl reset-failed
2025/06/17 06:21:09.277124 [INFO] Running command: systemctl daemon-reload
2025/06/17 06:21:09.533572 [INFO] Running command: systemctl reset-failed
2025/06/17 06:21:09.540706 [INFO] Running command: systemctl is-enabled aws-eb.target
2025/06/17 06:21:09.548032 [INFO] Running command: systemctl enable aws-eb.target
2025/06/17 06:21:09.850418 [INFO] Running command: systemctl start aws-eb.target
2025/06/17 06:21:09.858037 [INFO] Running command: systemctl enable healthd.service
2025/06/17 06:21:10.077021 [INFO] Created symlink /etc/systemd/system/multi-user.target.wants/healthd.service → /etc/systemd/system/healthd.service.

2025/06/17 06:21:10.077066 [INFO] Running command: systemctl show -p PartOf healthd.service
2025/06/17 06:21:10.087843 [INFO] Running command: systemctl is-active healthd.service
2025/06/17 06:21:10.095075 [INFO] Running command: systemctl start healthd.service
2025/06/17 06:21:10.168059 [INFO] Copying file /opt/elasticbeanstalk/config/private/healthd/healthd_logformat.conf to /var/proxy/staging/nginx/conf.d/healthd_logformat.conf
2025/06/17 06:21:10.169250 [INFO] Copying file /opt/elasticbeanstalk/config/private/healthd/healthd_nginx.conf to /var/proxy/staging/nginx/conf.d/elasticbeanstalk/healthd.conf
2025/06/17 06:21:10.170435 [INFO] Executing instruction: configure log streaming
2025/06/17 06:21:10.170444 [INFO] log streaming is not enabled
2025/06/17 06:21:10.170448 [INFO] disable log stream
2025/06/17 06:21:10.170461 [INFO] Running command: systemctl show -p PartOf amazon-cloudwatch-agent.service
2025/06/17 06:21:10.189096 [INFO] Running command: systemctl stop amazon-cloudwatch-agent.service
2025/06/17 06:21:10.207363 [INFO] Executing instruction: GetToggleForceRotate
2025/06/17 06:21:10.207387 [INFO] Checking if logs need forced rotation
2025/06/17 06:21:10.207402 [INFO] Running command: /opt/aws/bin/cfn-get-metadata -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBAutoScalingGroup --region us-west-2
2025/06/17 06:21:10.632265 [INFO] Running command: /opt/aws/bin/cfn-get-metadata -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBBeanstalkMetadata --region us-west-2
2025/06/17 06:21:11.006653 [INFO] Procfile not found. Generating default rsyslog config
2025/06/17 06:21:11.008925 [INFO] Running command: systemctl restart rsyslog.service
2025/06/17 06:21:11.125434 [INFO] Executing instruction: Configure Docker Logging
2025/06/17 06:21:11.146856 [INFO] Executing instruction: PostBuildEbExtension
2025/06/17 06:21:11.146876 [INFO] Starting executing the config set Infra-EmbeddedPostBuild.
2025/06/17 06:21:11.146889 [INFO] Running command: /opt/aws/bin/cfn-init -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBAutoScalingGroup --region us-west-2 --configsets Infra-EmbeddedPostBuild
2025/06/17 06:21:11.446942 [INFO] Finished executing the config set Infra-EmbeddedPostBuild.

2025/06/17 06:21:11.446966 [INFO] Executing instruction: CleanEbExtensions
2025/06/17 06:21:11.446987 [INFO] Cleaned ebextensions subdirectories from app staging directory.
2025/06/17 06:21:11.446990 [INFO] Executing instruction: RunAppDeployPreDeployHooks
2025/06/17 06:21:11.447015 [INFO] Executing platform hooks in .platform/hooks/predeploy/
2025/06/17 06:21:11.447029 [INFO] The dir .platform/hooks/predeploy/ does not exist
2025/06/17 06:21:11.447031 [INFO] Finished running scripts in /var/app/staging/.platform/hooks/predeploy
2025/06/17 06:21:11.447036 [INFO] Executing instruction: stop X-Ray
2025/06/17 06:21:11.447038 [INFO] stop X-Ray ...
2025/06/17 06:21:11.447048 [INFO] Running command: systemctl show -p PartOf xray.service
2025/06/17 06:21:11.460411 [WARN] stopProcess Warning: process xray is not registered 
2025/06/17 06:21:11.460442 [INFO] Running command: systemctl stop xray.service
2025/06/17 06:21:11.473905 [INFO] Executing instruction: Run Docker Container
2025/06/17 06:21:11.473951 [INFO] stop currently running containers...
2025/06/17 06:21:11.473963 [INFO] detected old app is not docker compose app
2025/06/17 06:21:11.473974 [INFO] Running command: iptables-save | grep -v added_by_elasticbeanstalk | iptables-restore
2025/06/17 06:21:11.579967 [INFO] Running command: systemctl show -p PartOf nginx.service
2025/06/17 06:21:11.594160 [WARN] deregisterProcess Warning: process nginx is not registered, skipping...

2025/06/17 06:21:11.594186 [INFO] Running command: systemctl show -p PartOf eb-docker.service
2025/06/17 06:21:11.605024 [WARN] deregisterProcess Warning: process eb-docker is not registered, skipping...

2025/06/17 06:21:11.605049 [INFO] Running command: systemctl show -p PartOf eb-docker-log.service
2025/06/17 06:21:11.616899 [WARN] deregisterProcess Warning: process eb-docker-log is not registered, skipping...

2025/06/17 06:21:11.616942 [INFO] stopping current container: 2dcc4747da0a
2025/06/17 06:21:11.616950 [INFO] Running command: docker ps | grep -q 2dcc4747da0a
2025/06/17 06:21:11.632060 [INFO] Running command: docker ps | grep -q 2dcc4747da0a
2025/06/17 06:21:11.645029 [INFO] Pruning containers ...
2025/06/17 06:21:11.645057 [INFO] Running command: docker ps -a
2025/06/17 06:21:11.657803 [INFO] CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES

2025/06/17 06:21:11.657848 [INFO] Running command: docker container prune -f
2025/06/17 06:21:11.671721 [INFO] Total reclaimed space: 0B

2025/06/17 06:21:11.671748 [INFO] Running command: docker ps -a
2025/06/17 06:21:11.686419 [INFO] CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES

2025/06/17 06:21:11.686462 [INFO] Running command: docker rmi aws_beanstalk/current-app
2025/06/17 06:21:11.701776 [INFO] Error response from daemon: No such image: aws_beanstalk/current-app:latest

2025/06/17 06:21:11.701799 [INFO] Removing /var/app/current/ if it exists
2025/06/17 06:21:11.711994 [INFO] Renaming /var/app/staging/ to /var/app/current/
2025/06/17 06:21:11.712024 [INFO] detected new app is not docker compose app
2025/06/17 06:21:11.712114 [INFO] Running command: docker run -d --env-file /opt/elasticbeanstalk/deployment/env.list    0c7dc932ae0d 
2025/06/17 06:21:12.080918 [INFO] 6db7ac64f8e996b7085fa0e39ffe4138f9593bbe254584cea4d75ead446615b4

2025/06/17 06:21:17.085231 [INFO] Running command: docker ps | grep -q 6db7ac64f8e9
2025/06/17 06:21:17.101962 [ERROR] docker container quit unexpectedly on 2025-06-17 06:21:17.101944278 +0000 UTC: Command docker ps | grep -q 6db7ac64f8e9 failed with error exit status 1
2025/06/17 06:21:17.101989 [INFO] Running command: docker logs 6db7ac64f8e9
2025/06/17 06:21:17.118258 [ERROR] An error occurred during execution of command [app-deploy] - [Run Docker Container]. Stop running the command. Error: failed to run the docker container 6db7ac64f8e9: Command docker ps | grep -q 6db7ac64f8e9 failed with error exit status 1 

2025/06/17 06:21:17.118268 [INFO] Executing cleanup logic
2025/06/17 06:21:17.118340 [INFO] CommandService Response: {"status":"FAILURE","api_version":"1.0","results":[{"status":"FAILURE","msg":"Engine execution has encountered an error.","returncode":1,"events":[{"msg":"Instance deployment: The Docker container unexpectedly ended after it was started.","timestamp":1750141277101,"severity":"ERROR"},{"msg":"Instance deployment failed. For details, see 'eb-engine.log'.","timestamp":1750141277118,"severity":"ERROR"}]}]}

2025/06/17 06:21:17.118502 [INFO] Platform Engine finished execution on command: app-deploy

2025/06/17 06:28:19.274242 [INFO] Starting...
2025/06/17 06:28:19.274306 [INFO] Starting EBPlatform-PlatformEngine
2025/06/17 06:28:19.274331 [INFO] reading event message file
2025/06/17 06:28:19.274616 [INFO] Engine received EB command cfn-hup-exec

2025/06/17 06:28:19.337956 [INFO] Running command: /opt/aws/bin/cfn-get-metadata -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBAutoScalingGroup --region us-west-2
2025/06/17 06:28:19.631088 [INFO] Running command: /opt/aws/bin/cfn-get-metadata -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBBeanstalkMetadata --region us-west-2
2025/06/17 06:28:19.912655 [INFO] checking whether command bundle-log is applicable to this instance...
2025/06/17 06:28:19.912667 [INFO] this command is applicable to the instance, thus instance should execute command
2025/06/17 06:28:19.912670 [INFO] Engine command: (bundle-log)

2025/06/17 06:28:19.912710 [INFO] Executing instruction: GetBundleLogs
2025/06/17 06:28:19.912712 [INFO] Bundle Logs...
2025/06/17 06:28:19.992895 [INFO] Executing cleanup logic
2025/06/17 06:28:19.992965 [INFO] CommandService Response: {"status":"SUCCESS","api_version":"1.0","results":[{"status":"SUCCESS","msg":"Engine execution has succeeded.","returncode":0,"events":[{"msg":"Instance deployment completed successfully.","timestamp":1750141699992,"severity":"INFO"}]}]}

2025/06/17 06:28:19.992982 [INFO] Platform Engine finished execution on command: bundle-log

2025/06/17 06:30:47.981746 [INFO] Starting...
2025/06/17 06:30:47.981797 [INFO] Starting EBPlatform-PlatformEngine
2025/06/17 06:30:47.981820 [INFO] reading event message file
2025/06/17 06:30:47.982096 [INFO] Engine received EB command cfn-hup-exec

2025/06/17 06:30:48.046494 [INFO] Running command: /opt/aws/bin/cfn-get-metadata -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBAutoScalingGroup --region us-west-2
2025/06/17 06:30:48.327717 [INFO] Running command: /opt/aws/bin/cfn-get-metadata -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBBeanstalkMetadata --region us-west-2
2025/06/17 06:30:48.600667 [INFO] checking whether command app-deploy is applicable to this instance...
2025/06/17 06:30:48.600679 [INFO] this command is applicable to the instance, thus instance should execute command
2025/06/17 06:30:48.600682 [INFO] Engine command: (app-deploy)

2025/06/17 06:30:48.600686 [INFO] Downloading EB Application...
2025/06/17 06:30:48.600688 [INFO] Region: us-west-2
2025/06/17 06:30:48.600690 [INFO] envID: e-xmev5d2dxc
2025/06/17 06:30:48.600692 [INFO] envBucket: elasticbeanstalk-us-west-2-881490119784
2025/06/17 06:30:48.600694 [INFO] accountID: 881490119784
2025/06/17 06:30:48.600696 [INFO] Using manifest file name from command request
2025/06/17 06:30:48.600701 [INFO] Manifest name is : manifest_1750141845837
2025/06/17 06:30:48.600703 [INFO] Download app version manifest
2025/06/17 06:30:48.600851 [INFO] Downloading: bucket: elasticbeanstalk-us-west-2-881490119784, object: resources/environments/e-xmev5d2dxc/_runtime/versions/manifest_1750141845837, expected bucket owner: 881490119784
2025/06/17 06:30:48.642190 [INFO] Download successful116bytes downloaded
2025/06/17 06:30:48.642319 [INFO] Trying to read and parse version manifest...
2025/06/17 06:30:48.642815 [INFO] Downloading: bucket: elasticbeanstalk-us-west-2-881490119784, object: resources/environments/e-xmev5d2dxc/_runtime/_versions/stacktracker-app-v3/app-d01c-250616_233039948834, expected bucket owner: 881490119784
2025/06/17 06:30:48.727006 [INFO] Download successful6705586bytes downloaded
2025/06/17 06:30:48.733243 [INFO] Executing instruction: ElectLeader
2025/06/17 06:30:48.733253 [INFO] Running leader election for instance i-0bd6bd90d4e78201c...
2025/06/17 06:30:48.733256 [INFO] Calling the cfn-elect-cmd-leader to elect the command leader.
2025/06/17 06:30:48.733265 [INFO] Running command: /opt/aws/bin/cfn-elect-cmd-leader --stack arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf --command-name ElasticBeanstalkCommand-AWSEBAutoScalingGroup --invocation-id 5c7c95f6-dd71-4992-b247-8bcb6f4f711f --listener-id i-0bd6bd90d4e78201c --region us-west-2
2025/06/17 06:30:49.017563 [INFO] Instance is Leader.
2025/06/17 06:30:49.017606 [INFO] Executing instruction: stopSqsd
2025/06/17 06:30:49.017618 [INFO] This is a web server environment instance, skip stop sqsd daemon ...
2025/06/17 06:30:49.017621 [INFO] Executing instruction: PreBuildEbExtension
2025/06/17 06:30:49.017623 [INFO] Starting executing the config set Infra-EmbeddedPreBuild.
2025/06/17 06:30:49.017635 [INFO] Running command: /opt/aws/bin/cfn-init -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBAutoScalingGroup --region us-west-2 --configsets Infra-EmbeddedPreBuild
2025/06/17 06:30:49.311528 [INFO] Finished executing the config set Infra-EmbeddedPreBuild.

2025/06/17 06:30:49.311552 [INFO] Executing instruction: StagedockerApplication
2025/06/17 06:30:49.311564 [INFO] Running command: docker ps -a -q -f status=running
2025/06/17 06:30:49.330336 [INFO] Pruning containers ...
2025/06/17 06:30:49.330367 [INFO] Running command: docker ps -a
2025/06/17 06:30:49.345672 [INFO] CONTAINER ID   IMAGE          COMMAND                  CREATED         STATUS                     PORTS     NAMES
6db7ac64f8e9   0c7dc932ae0d   "docker-entrypoint.s…"   9 minutes ago   Exited (1) 9 minutes ago             compassionate_gauss

2025/06/17 06:30:49.345707 [INFO] Running command: docker container prune -f
2025/06/17 06:30:49.365645 [INFO] Deleted Containers:
6db7ac64f8e996b7085fa0e39ffe4138f9593bbe254584cea4d75ead446615b4

Total reclaimed space: 0B

2025/06/17 06:30:49.365673 [INFO] Running command: docker ps -a
2025/06/17 06:30:49.379888 [INFO] CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES

2025/06/17 06:30:49.379972 [INFO] Recreating /var/app/staging/
2025/06/17 06:30:49.380037 [INFO] Recreating /var/log/eb-docker/containers/eb-current-app
2025/06/17 06:30:49.380231 [INFO] Running command: /bin/file -m /opt/elasticbeanstalk/config/private/beanstalk-magic -b --mime-type /opt/elasticbeanstalk/deployment/app_source_bundle
2025/06/17 06:30:49.384614 [INFO] application/zip

2025/06/17 06:30:49.384627 [INFO] app source bundle is zip file ...
2025/06/17 06:30:49.384632 [INFO] extracting /opt/elasticbeanstalk/deployment/app_source_bundle to /var/app/staging/
2025/06/17 06:30:49.384644 [INFO] Running command: /usr/bin/unzip -q -o /opt/elasticbeanstalk/deployment/app_source_bundle -d /var/app/staging/
2025/06/17 06:30:49.508402 [INFO] finished extracting /opt/elasticbeanstalk/deployment/app_source_bundle to /var/app/staging/ successfully
2025/06/17 06:30:49.508421 [INFO] Executing instruction: RunAppDeployPreBuildHooks
2025/06/17 06:30:49.508451 [INFO] Executing platform hooks in .platform/hooks/prebuild/
2025/06/17 06:30:49.508486 [INFO] The dir .platform/hooks/prebuild/ does not exist
2025/06/17 06:30:49.508489 [INFO] Finished running scripts in /var/app/staging/.platform/hooks/prebuild
2025/06/17 06:30:49.508494 [INFO] Executing instruction: Generate environment file
2025/06/17 06:30:49.508523 [INFO] Executing instruction: Docker Specific Build Application
2025/06/17 06:30:49.508526 [INFO] start build docker app
2025/06/17 06:30:49.508535 [INFO] fetching image names from Dockerfile /var/app/staging/Dockerfile
2025/06/17 06:30:49.508625 [INFO] found images [node:20-slim node:20-slim] in Dockerfile /var/app/staging/Dockerfile
2025/06/17 06:30:49.508631 [INFO] pull docker image if update is not false in Dockerrun.aws.json
2025/06/17 06:30:49.508645 [INFO] Running command: docker pull node:20-slim
2025/06/17 06:30:50.205827 [INFO] 20-slim: Pulling from library/node
Digest: sha256:7cd3fbc830c75c92256fe1122002add9a1c025831af8770cd0bf8e45688ef661
Status: Image is up to date for node:20-slim
docker.io/library/node:20-slim

2025/06/17 06:30:50.205848 [INFO] successfully execute command: docker pull node:20-slim
2025/06/17 06:30:50.205852 [INFO] successfully pulled docker image node:20-slim
2025/06/17 06:30:50.205865 [INFO] Running command: docker pull node:20-slim
2025/06/17 06:30:50.910575 [INFO] 20-slim: Pulling from library/node
Digest: sha256:7cd3fbc830c75c92256fe1122002add9a1c025831af8770cd0bf8e45688ef661
Status: Image is up to date for node:20-slim
docker.io/library/node:20-slim

2025/06/17 06:30:50.910611 [INFO] successfully execute command: docker pull node:20-slim
2025/06/17 06:30:50.910616 [INFO] successfully pulled docker image node:20-slim
2025/06/17 06:30:50.910620 [INFO] start to build docker image
2025/06/17 06:30:50.910636 [INFO] Running command: docker build -t aws_beanstalk/staging-app /var/app/staging/
2025/06/17 06:30:51.184307 [INFO] #0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.40kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/node:20-slim
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 137B done
#3 DONE 0.0s

#4 [builder 1/6] FROM docker.io/library/node:20-slim
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 54.38kB 0.0s done
#5 DONE 0.0s

#6 [stage-1 4/6] COPY --chown=node:node certs ./certs
#6 CACHED

#7 [builder 3/6] COPY package*.json ./
#7 CACHED

#8 [builder 2/6] WORKDIR /app
#8 CACHED

#9 [stage-1 5/6] RUN chmod 644 /app/certs/stcert.pem
#9 CACHED

#10 [stage-1 3/6] COPY --from=builder /app /app
#10 CACHED

#11 [builder 6/6] RUN npx vite build && npx esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist/server
#11 CACHED

#12 [builder 4/6] RUN npm ci
#12 CACHED

#13 [builder 5/6] COPY . .
#13 CACHED

#14 [stage-1 6/6] RUN ls -l /app/certs/stcert.pem &&     echo "Certificate file exists" &&     cat /app/certs/stcert.pem | head -n 1
#14 CACHED

#15 exporting to image
#15 exporting layers done
#15 writing image sha256:0c7dc932ae0dd43a4948c2c9d77fe9b4c1181da6eb8baee33922843b43443bb6 done
#15 naming to docker.io/aws_beanstalk/staging-app done
#15 DONE 0.0s

2025/06/17 06:30:51.184324 [INFO] successfully execute command: docker build -t aws_beanstalk/staging-app /var/app/staging/
2025/06/17 06:30:51.184327 [INFO] successfully build docker image
2025/06/17 06:30:51.184330 [INFO] save staging docker image id
2025/06/17 06:30:51.184338 [INFO] Running command: docker images aws_beanstalk/staging-app -q
2025/06/17 06:30:51.198271 [INFO] 0c7dc932ae0d

2025/06/17 06:30:51.198394 [INFO] Executing instruction: configure X-Ray
2025/06/17 06:30:51.198400 [INFO] X-Ray is not enabled.
2025/06/17 06:30:51.198404 [INFO] Executing instruction: configure proxy Nginx
2025/06/17 06:30:51.198421 [INFO] Recreating /var/proxy/staging/nginx
2025/06/17 06:30:51.205325 [INFO] Executing instruction: configure healthd specific proxy conf
2025/06/17 06:30:51.207433 [INFO] Running command: systemctl show -p PartOf healthd.service
2025/06/17 06:30:51.217899 [WARN] Warning: process healthd is already registered...
Deregistering the process ...
2025/06/17 06:30:51.217937 [INFO] Running command: systemctl show -p PartOf healthd.service
2025/06/17 06:30:51.226659 [INFO] Running command: systemctl is-active healthd.service
2025/06/17 06:30:51.233603 [INFO] Running command: systemctl show -p PartOf healthd.service
2025/06/17 06:30:51.241779 [INFO] Running command: systemctl stop healthd.service
2025/06/17 06:30:51.331189 [INFO] Running command: systemctl disable healthd.service
2025/06/17 06:30:51.657706 [INFO] Removed "/etc/systemd/system/multi-user.target.wants/healthd.service".

2025/06/17 06:30:51.657895 [INFO] Running command: systemctl daemon-reload
2025/06/17 06:30:51.953138 [INFO] Running command: systemctl reset-failed
2025/06/17 06:30:51.963569 [INFO] Running command: systemctl daemon-reload
2025/06/17 06:30:52.225889 [INFO] Running command: systemctl reset-failed
2025/06/17 06:30:52.233124 [INFO] Running command: systemctl is-enabled aws-eb.target
2025/06/17 06:30:52.240796 [INFO] Running command: systemctl enable aws-eb.target
2025/06/17 06:30:52.497227 [INFO] Running command: systemctl start aws-eb.target
2025/06/17 06:30:52.505735 [INFO] Running command: systemctl enable healthd.service
2025/06/17 06:30:52.818358 [INFO] Created symlink /etc/systemd/system/multi-user.target.wants/healthd.service → /etc/systemd/system/healthd.service.

2025/06/17 06:30:52.818386 [INFO] Running command: systemctl show -p PartOf healthd.service
2025/06/17 06:30:52.828455 [INFO] Running command: systemctl is-active healthd.service
2025/06/17 06:30:52.835968 [INFO] Running command: systemctl start healthd.service
2025/06/17 06:30:52.896694 [INFO] Copying file /opt/elasticbeanstalk/config/private/healthd/healthd_logformat.conf to /var/proxy/staging/nginx/conf.d/healthd_logformat.conf
2025/06/17 06:30:52.897852 [INFO] Copying file /opt/elasticbeanstalk/config/private/healthd/healthd_nginx.conf to /var/proxy/staging/nginx/conf.d/elasticbeanstalk/healthd.conf
2025/06/17 06:30:52.898996 [INFO] Executing instruction: configure log streaming
2025/06/17 06:30:52.899007 [INFO] log streaming is not enabled
2025/06/17 06:30:52.899011 [INFO] disable log stream
2025/06/17 06:30:52.899023 [INFO] Running command: systemctl show -p PartOf amazon-cloudwatch-agent.service
2025/06/17 06:30:52.916476 [INFO] Running command: systemctl stop amazon-cloudwatch-agent.service
2025/06/17 06:30:52.932464 [INFO] Executing instruction: GetToggleForceRotate
2025/06/17 06:30:52.932488 [INFO] Checking if logs need forced rotation
2025/06/17 06:30:52.932510 [INFO] Running command: /opt/aws/bin/cfn-get-metadata -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBAutoScalingGroup --region us-west-2
2025/06/17 06:30:53.358307 [INFO] Running command: /opt/aws/bin/cfn-get-metadata -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBBeanstalkMetadata --region us-west-2
2025/06/17 06:30:53.728193 [INFO] Procfile not found. Generating default rsyslog config
2025/06/17 06:30:53.730334 [INFO] Running command: systemctl restart rsyslog.service
2025/06/17 06:30:54.066550 [INFO] Executing instruction: Configure Docker Logging
2025/06/17 06:30:54.087627 [INFO] Executing instruction: PostBuildEbExtension
2025/06/17 06:30:54.087642 [INFO] Starting executing the config set Infra-EmbeddedPostBuild.
2025/06/17 06:30:54.087653 [INFO] Running command: /opt/aws/bin/cfn-init -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBAutoScalingGroup --region us-west-2 --configsets Infra-EmbeddedPostBuild
2025/06/17 06:30:54.391836 [INFO] Finished executing the config set Infra-EmbeddedPostBuild.

2025/06/17 06:30:54.391861 [INFO] Executing instruction: CleanEbExtensions
2025/06/17 06:30:54.391887 [INFO] Cleaned ebextensions subdirectories from app staging directory.
2025/06/17 06:30:54.391891 [INFO] Executing instruction: RunAppDeployPreDeployHooks
2025/06/17 06:30:54.391961 [INFO] Executing platform hooks in .platform/hooks/predeploy/
2025/06/17 06:30:54.391977 [INFO] The dir .platform/hooks/predeploy/ does not exist
2025/06/17 06:30:54.391979 [INFO] Finished running scripts in /var/app/staging/.platform/hooks/predeploy
2025/06/17 06:30:54.391984 [INFO] Executing instruction: stop X-Ray
2025/06/17 06:30:54.391987 [INFO] stop X-Ray ...
2025/06/17 06:30:54.391996 [INFO] Running command: systemctl show -p PartOf xray.service
2025/06/17 06:30:54.405080 [WARN] stopProcess Warning: process xray is not registered 
2025/06/17 06:30:54.405110 [INFO] Running command: systemctl stop xray.service
2025/06/17 06:30:54.418838 [INFO] Executing instruction: Run Docker Container
2025/06/17 06:30:54.418870 [INFO] stop currently running containers...
2025/06/17 06:30:54.418882 [INFO] detected old app is not docker compose app
2025/06/17 06:30:54.418893 [INFO] Running command: iptables-save | grep -v added_by_elasticbeanstalk | iptables-restore
2025/06/17 06:30:54.519896 [INFO] Running command: systemctl show -p PartOf nginx.service
2025/06/17 06:30:54.533918 [WARN] deregisterProcess Warning: process nginx is not registered, skipping...

2025/06/17 06:30:54.533958 [INFO] Running command: systemctl show -p PartOf eb-docker.service
2025/06/17 06:30:54.546069 [WARN] deregisterProcess Warning: process eb-docker is not registered, skipping...

2025/06/17 06:30:54.546101 [INFO] Running command: systemctl show -p PartOf eb-docker-log.service
2025/06/17 06:30:54.559437 [WARN] deregisterProcess Warning: process eb-docker-log is not registered, skipping...

2025/06/17 06:30:54.559609 [INFO] stopping current container: 6db7ac64f8e9
2025/06/17 06:30:54.559621 [INFO] Running command: docker ps | grep -q 6db7ac64f8e9
2025/06/17 06:30:54.576155 [INFO] Running command: docker ps | grep -q 6db7ac64f8e9
2025/06/17 06:30:54.591298 [INFO] Pruning containers ...
2025/06/17 06:30:54.591324 [INFO] Running command: docker ps -a
2025/06/17 06:30:54.606525 [INFO] CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES

2025/06/17 06:30:54.606554 [INFO] Running command: docker container prune -f
2025/06/17 06:30:54.622018 [INFO] Total reclaimed space: 0B

2025/06/17 06:30:54.622044 [INFO] Running command: docker ps -a
2025/06/17 06:30:54.636405 [INFO] CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES

2025/06/17 06:30:54.636433 [INFO] Running command: docker rmi aws_beanstalk/current-app
2025/06/17 06:30:54.651680 [INFO] Error response from daemon: No such image: aws_beanstalk/current-app:latest

2025/06/17 06:30:54.651704 [INFO] Removing /var/app/current/ if it exists
2025/06/17 06:30:54.661787 [INFO] Renaming /var/app/staging/ to /var/app/current/
2025/06/17 06:30:54.661817 [INFO] detected new app is not docker compose app
2025/06/17 06:30:54.661894 [INFO] Running command: docker run -d --env-file /opt/elasticbeanstalk/deployment/env.list    0c7dc932ae0d 
2025/06/17 06:30:55.004204 [INFO] 6d51faf6e5c32e3dbba29c0b4b5b652ad0f07d691bb8453de26c4deb67516b1c

2025/06/17 06:31:00.006767 [INFO] Running command: docker ps | grep -q 6d51faf6e5c3
2025/06/17 06:31:00.043327 [ERROR] docker container quit unexpectedly on 2025-06-17 06:31:00.043306208 +0000 UTC: Command docker ps | grep -q 6d51faf6e5c3 failed with error exit status 1
2025/06/17 06:31:00.043374 [INFO] Running command: docker logs 6d51faf6e5c3
2025/06/17 06:31:00.061708 [ERROR] An error occurred during execution of command [app-deploy] - [Run Docker Container]. Stop running the command. Error: failed to run the docker container 6d51faf6e5c3: Command docker ps | grep -q 6d51faf6e5c3 failed with error exit status 1 

2025/06/17 06:31:00.061717 [INFO] Executing cleanup logic
2025/06/17 06:31:00.061793 [INFO] CommandService Response: {"status":"FAILURE","api_version":"1.0","results":[{"status":"FAILURE","msg":"Engine execution has encountered an error.","returncode":1,"events":[{"msg":"Instance deployment: The Docker container unexpectedly ended after it was started.","timestamp":1750141860043,"severity":"ERROR"},{"msg":"Instance deployment failed. For details, see 'eb-engine.log'.","timestamp":1750141860061,"severity":"ERROR"}]}]}

2025/06/17 06:31:00.062023 [INFO] Platform Engine finished execution on command: app-deploy

2025/06/17 06:31:15.299981 [INFO] Starting...
2025/06/17 06:31:15.300035 [INFO] Starting EBPlatform-PlatformEngine
2025/06/17 06:31:15.300062 [INFO] reading event message file
2025/06/17 06:31:15.300374 [INFO] Engine received EB command cfn-hup-exec

2025/06/17 06:31:15.359495 [INFO] Running command: /opt/aws/bin/cfn-get-metadata -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBAutoScalingGroup --region us-west-2
2025/06/17 06:31:15.656914 [INFO] Running command: /opt/aws/bin/cfn-get-metadata -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBBeanstalkMetadata --region us-west-2
2025/06/17 06:31:15.954900 [INFO] checking whether command bundle-log is applicable to this instance...
2025/06/17 06:31:15.954912 [INFO] this command is applicable to the instance, thus instance should execute command
2025/06/17 06:31:15.954916 [INFO] Engine command: (bundle-log)

2025/06/17 06:31:15.954961 [INFO] Executing instruction: GetBundleLogs
2025/06/17 06:31:15.954964 [INFO] Bundle Logs...
2025/06/17 06:31:16.053493 [INFO] Executing cleanup logic
2025/06/17 06:31:16.053576 [INFO] CommandService Response: {"status":"SUCCESS","api_version":"1.0","results":[{"status":"SUCCESS","msg":"Engine execution has succeeded.","returncode":0,"events":[{"msg":"Instance deployment completed successfully.","timestamp":1750141876053,"severity":"INFO"}]}]}

2025/06/17 06:31:16.053600 [INFO] Platform Engine finished execution on command: bundle-log

2025/06/17 06:34:51.182817 [INFO] Starting...
2025/06/17 06:34:51.182866 [INFO] Starting EBPlatform-PlatformEngine
2025/06/17 06:34:51.182892 [INFO] reading event message file
2025/06/17 06:34:51.183173 [INFO] Engine received EB command cfn-hup-exec

2025/06/17 06:34:51.242215 [INFO] Running command: /opt/aws/bin/cfn-get-metadata -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBAutoScalingGroup --region us-west-2
2025/06/17 06:34:51.517191 [INFO] Running command: /opt/aws/bin/cfn-get-metadata -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBBeanstalkMetadata --region us-west-2
2025/06/17 06:34:51.787130 [INFO] checking whether command app-deploy is applicable to this instance...
2025/06/17 06:34:51.787143 [INFO] this command is applicable to the instance, thus instance should execute command
2025/06/17 06:34:51.787147 [INFO] Engine command: (app-deploy)

2025/06/17 06:34:51.787150 [INFO] Downloading EB Application...
2025/06/17 06:34:51.787152 [INFO] Region: us-west-2
2025/06/17 06:34:51.787154 [INFO] envID: e-xmev5d2dxc
2025/06/17 06:34:51.787156 [INFO] envBucket: elasticbeanstalk-us-west-2-881490119784
2025/06/17 06:34:51.787158 [INFO] accountID: 881490119784
2025/06/17 06:34:51.787161 [INFO] Using manifest file name from command request
2025/06/17 06:34:51.787166 [INFO] Manifest name is : manifest_1750142087619
2025/06/17 06:34:51.787168 [INFO] Download app version manifest
2025/06/17 06:34:51.787320 [INFO] Downloading: bucket: elasticbeanstalk-us-west-2-881490119784, object: resources/environments/e-xmev5d2dxc/_runtime/versions/manifest_1750142087619, expected bucket owner: 881490119784
2025/06/17 06:34:51.824303 [INFO] Download successful116bytes downloaded
2025/06/17 06:34:51.824446 [INFO] Trying to read and parse version manifest...
2025/06/17 06:34:51.824885 [INFO] Downloading: bucket: elasticbeanstalk-us-west-2-881490119784, object: resources/environments/e-xmev5d2dxc/_runtime/_versions/stacktracker-app-v3/app-d01c-250616_233440492401, expected bucket owner: 881490119784
2025/06/17 06:34:51.973817 [INFO] Download successful6705586bytes downloaded
2025/06/17 06:34:51.981116 [INFO] Executing instruction: ElectLeader
2025/06/17 06:34:51.981125 [INFO] Running leader election for instance i-0bd6bd90d4e78201c...
2025/06/17 06:34:51.981128 [INFO] Calling the cfn-elect-cmd-leader to elect the command leader.
2025/06/17 06:34:51.981140 [INFO] Running command: /opt/aws/bin/cfn-elect-cmd-leader --stack arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf --command-name ElasticBeanstalkCommand-AWSEBAutoScalingGroup --invocation-id 76292a7d-d3a4-4257-ab9d-f84aaee401bd --listener-id i-0bd6bd90d4e78201c --region us-west-2
2025/06/17 06:34:52.260328 [INFO] Instance is Leader.
2025/06/17 06:34:52.260374 [INFO] Executing instruction: stopSqsd
2025/06/17 06:34:52.260380 [INFO] This is a web server environment instance, skip stop sqsd daemon ...
2025/06/17 06:34:52.260382 [INFO] Executing instruction: PreBuildEbExtension
2025/06/17 06:34:52.260385 [INFO] Starting executing the config set Infra-EmbeddedPreBuild.
2025/06/17 06:34:52.260398 [INFO] Running command: /opt/aws/bin/cfn-init -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBAutoScalingGroup --region us-west-2 --configsets Infra-EmbeddedPreBuild
2025/06/17 06:34:52.552200 [INFO] Finished executing the config set Infra-EmbeddedPreBuild.

2025/06/17 06:34:52.552247 [INFO] Executing instruction: StagedockerApplication
2025/06/17 06:34:52.552265 [INFO] Running command: docker ps -a -q -f status=running
2025/06/17 06:34:52.567761 [INFO] Pruning containers ...
2025/06/17 06:34:52.567791 [INFO] Running command: docker ps -a
2025/06/17 06:34:52.584001 [INFO] CONTAINER ID   IMAGE          COMMAND                  CREATED         STATUS                     PORTS     NAMES
6d51faf6e5c3   0c7dc932ae0d   "docker-entrypoint.s…"   3 minutes ago   Exited (1) 3 minutes ago             priceless_varahamihira

2025/06/17 06:34:52.584029 [INFO] Running command: docker container prune -f
2025/06/17 06:34:52.602237 [INFO] Deleted Containers:
6d51faf6e5c32e3dbba29c0b4b5b652ad0f07d691bb8453de26c4deb67516b1c

Total reclaimed space: 0B

2025/06/17 06:34:52.602269 [INFO] Running command: docker ps -a
2025/06/17 06:34:52.614768 [INFO] CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES

2025/06/17 06:34:52.614789 [INFO] Recreating /var/app/staging/
2025/06/17 06:34:52.614851 [INFO] Recreating /var/log/eb-docker/containers/eb-current-app
2025/06/17 06:34:52.614982 [INFO] Running command: /bin/file -m /opt/elasticbeanstalk/config/private/beanstalk-magic -b --mime-type /opt/elasticbeanstalk/deployment/app_source_bundle
2025/06/17 06:34:52.619309 [INFO] application/zip

2025/06/17 06:34:52.619328 [INFO] app source bundle is zip file ...
2025/06/17 06:34:52.619332 [INFO] extracting /opt/elasticbeanstalk/deployment/app_source_bundle to /var/app/staging/
2025/06/17 06:34:52.619341 [INFO] Running command: /usr/bin/unzip -q -o /opt/elasticbeanstalk/deployment/app_source_bundle -d /var/app/staging/
2025/06/17 06:34:52.740603 [INFO] finished extracting /opt/elasticbeanstalk/deployment/app_source_bundle to /var/app/staging/ successfully
2025/06/17 06:34:52.740630 [INFO] Executing instruction: RunAppDeployPreBuildHooks
2025/06/17 06:34:52.740658 [INFO] Executing platform hooks in .platform/hooks/prebuild/
2025/06/17 06:34:52.740684 [INFO] The dir .platform/hooks/prebuild/ does not exist
2025/06/17 06:34:52.740687 [INFO] Finished running scripts in /var/app/staging/.platform/hooks/prebuild
2025/06/17 06:34:52.740691 [INFO] Executing instruction: Generate environment file
2025/06/17 06:34:52.740718 [INFO] Executing instruction: Docker Specific Build Application
2025/06/17 06:34:52.740721 [INFO] start build docker app
2025/06/17 06:34:52.740730 [INFO] fetching image names from Dockerfile /var/app/staging/Dockerfile
2025/06/17 06:34:52.740804 [INFO] found images [node:20-slim node:20-slim] in Dockerfile /var/app/staging/Dockerfile
2025/06/17 06:34:52.740807 [INFO] pull docker image if update is not false in Dockerrun.aws.json
2025/06/17 06:34:52.740817 [INFO] Running command: docker pull node:20-slim
2025/06/17 06:34:53.437043 [INFO] 20-slim: Pulling from library/node
Digest: sha256:7cd3fbc830c75c92256fe1122002add9a1c025831af8770cd0bf8e45688ef661
Status: Image is up to date for node:20-slim
docker.io/library/node:20-slim

2025/06/17 06:34:53.437084 [INFO] successfully execute command: docker pull node:20-slim
2025/06/17 06:34:53.437088 [INFO] successfully pulled docker image node:20-slim
2025/06/17 06:34:53.437101 [INFO] Running command: docker pull node:20-slim
2025/06/17 06:34:54.126046 [INFO] 20-slim: Pulling from library/node
Digest: sha256:7cd3fbc830c75c92256fe1122002add9a1c025831af8770cd0bf8e45688ef661
Status: Image is up to date for node:20-slim
docker.io/library/node:20-slim

2025/06/17 06:34:54.126065 [INFO] successfully execute command: docker pull node:20-slim
2025/06/17 06:34:54.126068 [INFO] successfully pulled docker image node:20-slim
2025/06/17 06:34:54.126071 [INFO] start to build docker image
2025/06/17 06:34:54.126084 [INFO] Running command: docker build -t aws_beanstalk/staging-app /var/app/staging/
2025/06/17 06:34:54.398008 [INFO] #0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.40kB done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/node:20-slim
#2 DONE 0.0s

#3 [internal] load .dockerignore
#3 transferring context: 137B done
#3 DONE 0.0s

#4 [builder 1/6] FROM docker.io/library/node:20-slim
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 54.38kB 0.0s done
#5 DONE 0.0s

#6 [builder 2/6] WORKDIR /app
#6 CACHED

#7 [stage-1 5/6] RUN chmod 644 /app/certs/stcert.pem
#7 CACHED

#8 [builder 5/6] COPY . .
#8 CACHED

#9 [builder 3/6] COPY package*.json ./
#9 CACHED

#10 [builder 4/6] RUN npm ci
#10 CACHED

#11 [stage-1 4/6] COPY --chown=node:node certs ./certs
#11 CACHED

#12 [builder 6/6] RUN npx vite build && npx esbuild server/index.ts --platform=node --packages=external --bundle --format=esm --outdir=dist/server
#12 CACHED

#13 [stage-1 3/6] COPY --from=builder /app /app
#13 CACHED

#14 [stage-1 6/6] RUN ls -l /app/certs/stcert.pem &&     echo "Certificate file exists" &&     cat /app/certs/stcert.pem | head -n 1
#14 CACHED

#15 exporting to image
#15 exporting layers done
#15 writing image sha256:0c7dc932ae0dd43a4948c2c9d77fe9b4c1181da6eb8baee33922843b43443bb6 done
#15 naming to docker.io/aws_beanstalk/staging-app done
#15 DONE 0.0s

2025/06/17 06:34:54.398032 [INFO] successfully execute command: docker build -t aws_beanstalk/staging-app /var/app/staging/
2025/06/17 06:34:54.398035 [INFO] successfully build docker image
2025/06/17 06:34:54.398037 [INFO] save staging docker image id
2025/06/17 06:34:54.398046 [INFO] Running command: docker images aws_beanstalk/staging-app -q
2025/06/17 06:34:54.415787 [INFO] 0c7dc932ae0d

2025/06/17 06:34:54.415899 [INFO] Executing instruction: configure X-Ray
2025/06/17 06:34:54.415904 [INFO] X-Ray is not enabled.
2025/06/17 06:34:54.415907 [INFO] Executing instruction: configure proxy Nginx
2025/06/17 06:34:54.415934 [INFO] Recreating /var/proxy/staging/nginx
2025/06/17 06:34:54.422528 [INFO] Executing instruction: configure healthd specific proxy conf
2025/06/17 06:34:54.424742 [INFO] Running command: systemctl show -p PartOf healthd.service
2025/06/17 06:34:54.434900 [WARN] Warning: process healthd is already registered...
Deregistering the process ...
2025/06/17 06:34:54.434926 [INFO] Running command: systemctl show -p PartOf healthd.service
2025/06/17 06:34:54.443397 [INFO] Running command: systemctl is-active healthd.service
2025/06/17 06:34:54.452942 [INFO] Running command: systemctl show -p PartOf healthd.service
2025/06/17 06:34:54.462348 [INFO] Running command: systemctl stop healthd.service
2025/06/17 06:34:54.540949 [INFO] Running command: systemctl disable healthd.service
2025/06/17 06:34:54.825209 [INFO] Removed "/etc/systemd/system/multi-user.target.wants/healthd.service".

2025/06/17 06:34:54.825371 [INFO] Running command: systemctl daemon-reload
2025/06/17 06:34:55.117992 [INFO] Running command: systemctl reset-failed
2025/06/17 06:34:55.128334 [INFO] Running command: systemctl daemon-reload
2025/06/17 06:34:55.382595 [INFO] Running command: systemctl reset-failed
2025/06/17 06:34:55.390415 [INFO] Running command: systemctl is-enabled aws-eb.target
2025/06/17 06:34:55.398156 [INFO] Running command: systemctl enable aws-eb.target
2025/06/17 06:34:55.700698 [INFO] Running command: systemctl start aws-eb.target
2025/06/17 06:34:55.709330 [INFO] Running command: systemctl enable healthd.service
2025/06/17 06:34:56.019451 [INFO] Created symlink /etc/systemd/system/multi-user.target.wants/healthd.service → /etc/systemd/system/healthd.service.

2025/06/17 06:34:56.019484 [INFO] Running command: systemctl show -p PartOf healthd.service
2025/06/17 06:34:56.029854 [INFO] Running command: systemctl is-active healthd.service
2025/06/17 06:34:56.037406 [INFO] Running command: systemctl start healthd.service
2025/06/17 06:34:56.101666 [INFO] Copying file /opt/elasticbeanstalk/config/private/healthd/healthd_logformat.conf to /var/proxy/staging/nginx/conf.d/healthd_logformat.conf
2025/06/17 06:34:56.102828 [INFO] Copying file /opt/elasticbeanstalk/config/private/healthd/healthd_nginx.conf to /var/proxy/staging/nginx/conf.d/elasticbeanstalk/healthd.conf
2025/06/17 06:34:56.104033 [INFO] Executing instruction: configure log streaming
2025/06/17 06:34:56.104041 [INFO] log streaming is not enabled
2025/06/17 06:34:56.104048 [INFO] disable log stream
2025/06/17 06:34:56.104058 [INFO] Running command: systemctl show -p PartOf amazon-cloudwatch-agent.service
2025/06/17 06:34:56.116273 [INFO] Running command: systemctl stop amazon-cloudwatch-agent.service
2025/06/17 06:34:56.126760 [INFO] Executing instruction: GetToggleForceRotate
2025/06/17 06:34:56.126778 [INFO] Checking if logs need forced rotation
2025/06/17 06:34:56.126794 [INFO] Running command: /opt/aws/bin/cfn-get-metadata -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBAutoScalingGroup --region us-west-2
2025/06/17 06:34:56.410514 [INFO] Running command: /opt/aws/bin/cfn-get-metadata -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBBeanstalkMetadata --region us-west-2
2025/06/17 06:34:56.701380 [INFO] Procfile not found. Generating default rsyslog config
2025/06/17 06:34:56.703694 [INFO] Running command: systemctl restart rsyslog.service
2025/06/17 06:34:57.076267 [INFO] Executing instruction: Configure Docker Logging
2025/06/17 06:34:57.097994 [INFO] Executing instruction: PostBuildEbExtension
2025/06/17 06:34:57.098011 [INFO] Starting executing the config set Infra-EmbeddedPostBuild.
2025/06/17 06:34:57.098022 [INFO] Running command: /opt/aws/bin/cfn-init -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBAutoScalingGroup --region us-west-2 --configsets Infra-EmbeddedPostBuild
2025/06/17 06:34:57.387749 [INFO] Finished executing the config set Infra-EmbeddedPostBuild.

2025/06/17 06:34:57.387796 [INFO] Executing instruction: CleanEbExtensions
2025/06/17 06:34:57.387817 [INFO] Cleaned ebextensions subdirectories from app staging directory.
2025/06/17 06:34:57.387820 [INFO] Executing instruction: RunAppDeployPreDeployHooks
2025/06/17 06:34:57.387841 [INFO] Executing platform hooks in .platform/hooks/predeploy/
2025/06/17 06:34:57.387854 [INFO] The dir .platform/hooks/predeploy/ does not exist
2025/06/17 06:34:57.387856 [INFO] Finished running scripts in /var/app/staging/.platform/hooks/predeploy
2025/06/17 06:34:57.387861 [INFO] Executing instruction: stop X-Ray
2025/06/17 06:34:57.387864 [INFO] stop X-Ray ...
2025/06/17 06:34:57.387872 [INFO] Running command: systemctl show -p PartOf xray.service
2025/06/17 06:34:57.401825 [WARN] stopProcess Warning: process xray is not registered 
2025/06/17 06:34:57.401846 [INFO] Running command: systemctl stop xray.service
2025/06/17 06:34:57.417426 [INFO] Executing instruction: Run Docker Container
2025/06/17 06:34:57.417451 [INFO] stop currently running containers...
2025/06/17 06:34:57.417466 [INFO] detected old app is not docker compose app
2025/06/17 06:34:57.417477 [INFO] Running command: iptables-save | grep -v added_by_elasticbeanstalk | iptables-restore
2025/06/17 06:34:57.489857 [INFO] Running command: systemctl show -p PartOf nginx.service
2025/06/17 06:34:57.501996 [WARN] deregisterProcess Warning: process nginx is not registered, skipping...

2025/06/17 06:34:57.502031 [INFO] Running command: systemctl show -p PartOf eb-docker.service
2025/06/17 06:34:57.513284 [WARN] deregisterProcess Warning: process eb-docker is not registered, skipping...

2025/06/17 06:34:57.513314 [INFO] Running command: systemctl show -p PartOf eb-docker-log.service
2025/06/17 06:34:57.524416 [WARN] deregisterProcess Warning: process eb-docker-log is not registered, skipping...

2025/06/17 06:34:57.524459 [INFO] stopping current container: 6d51faf6e5c3
2025/06/17 06:34:57.524468 [INFO] Running command: docker ps | grep -q 6d51faf6e5c3
2025/06/17 06:34:57.539842 [INFO] Running command: docker ps | grep -q 6d51faf6e5c3
2025/06/17 06:34:57.554269 [INFO] Pruning containers ...
2025/06/17 06:34:57.554292 [INFO] Running command: docker ps -a
2025/06/17 06:34:57.569112 [INFO] CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES

2025/06/17 06:34:57.569139 [INFO] Running command: docker container prune -f
2025/06/17 06:34:57.588653 [INFO] Total reclaimed space: 0B

2025/06/17 06:34:57.588676 [INFO] Running command: docker ps -a
2025/06/17 06:34:57.603039 [INFO] CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES

2025/06/17 06:34:57.603070 [INFO] Running command: docker rmi aws_beanstalk/current-app
2025/06/17 06:34:57.617257 [INFO] Error response from daemon: No such image: aws_beanstalk/current-app:latest

2025/06/17 06:34:57.617279 [INFO] Removing /var/app/current/ if it exists
2025/06/17 06:34:57.627452 [INFO] Renaming /var/app/staging/ to /var/app/current/
2025/06/17 06:34:57.627480 [INFO] detected new app is not docker compose app
2025/06/17 06:34:57.627560 [INFO] Running command: docker run -d --env-file /opt/elasticbeanstalk/deployment/env.list    0c7dc932ae0d 
2025/06/17 06:34:57.965701 [INFO] c54ff1318f081a3910c6f066f942ab793a5137a598a9fa435e3872e7f058e60f

2025/06/17 06:35:02.969291 [INFO] Running command: docker ps | grep -q c54ff1318f08
2025/06/17 06:35:02.984839 [ERROR] docker container quit unexpectedly on 2025-06-17 06:35:02.984827572 +0000 UTC: Command docker ps | grep -q c54ff1318f08 failed with error exit status 1
2025/06/17 06:35:02.984867 [INFO] Running command: docker logs c54ff1318f08
2025/06/17 06:35:03.014467 [ERROR] An error occurred during execution of command [app-deploy] - [Run Docker Container]. Stop running the command. Error: failed to run the docker container c54ff1318f08: Command docker ps | grep -q c54ff1318f08 failed with error exit status 1 

2025/06/17 06:35:03.014478 [INFO] Executing cleanup logic
2025/06/17 06:35:03.014557 [INFO] CommandService Response: {"status":"FAILURE","api_version":"1.0","results":[{"status":"FAILURE","msg":"Engine execution has encountered an error.","returncode":1,"events":[{"msg":"Instance deployment: The Docker container unexpectedly ended after it was started.","timestamp":1750142102984,"severity":"ERROR"},{"msg":"Instance deployment failed. For details, see 'eb-engine.log'.","timestamp":1750142103014,"severity":"ERROR"}]}]}

2025/06/17 06:35:03.014792 [INFO] Platform Engine finished execution on command: app-deploy

2025/06/17 06:35:21.964580 [INFO] Starting...
2025/06/17 06:35:21.964626 [INFO] Starting EBPlatform-PlatformEngine
2025/06/17 06:35:21.964650 [INFO] reading event message file
2025/06/17 06:35:21.964928 [INFO] Engine received EB command cfn-hup-exec

2025/06/17 06:35:22.034968 [INFO] Running command: /opt/aws/bin/cfn-get-metadata -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBAutoScalingGroup --region us-west-2
2025/06/17 06:35:22.316696 [INFO] Running command: /opt/aws/bin/cfn-get-metadata -s arn:aws:cloudformation:us-west-2:881490119784:stack/awseb-e-xmev5d2dxc-stack/b74ab790-4b41-11f0-8411-0624c0eedabf -r AWSEBBeanstalkMetadata --region us-west-2
2025/06/17 06:35:22.589031 [INFO] checking whether command bundle-log is applicable to this instance...
2025/06/17 06:35:22.589049 [INFO] this command is applicable to the instance, thus instance should execute command
2025/06/17 06:35:22.589053 [INFO] Engine command: (bundle-log)

2025/06/17 06:35:22.589102 [INFO] Executing instruction: GetBundleLogs
2025/06/17 06:35:22.589105 [INFO] Bundle Logs...
