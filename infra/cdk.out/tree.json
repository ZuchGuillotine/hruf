{"version":"tree-0.1","tree":{"id":"App","path":"","children":{"StackTrackerInfraStackV3":{"id":"StackTrackerInfraStackV3","path":"StackTrackerInfraStackV3","children":{"StackTrackerVPC":{"id":"StackTrackerVPC","path":"StackTrackerInfraStackV3/StackTrackerVPC","children":{"Resource":{"id":"Resource","path":"StackTrackerInfraStackV3/StackTrackerVPC/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"stacktracker-vpc-v3"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.196.0"}},"PublicSubnet1":{"id":"PublicSubnet1","path":"StackTrackerInfraStackV3/StackTrackerVPC/PublicSubnet1","children":{"Subnet":{"id":"Subnet","path":"StackTrackerInfraStackV3/StackTrackerVPC/PublicSubnet1/Subnet","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2a","cidrBlock":"10.0.0.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"StackTrackerInfraStackV3/StackTrackerVPC/PublicSubnet1"}],"vpcId":{"Ref":"StackTrackerVPC312672F2"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.196.0"}},"Acl":{"id":"Acl","path":"StackTrackerInfraStackV3/StackTrackerVPC/PublicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.196.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"StackTrackerInfraStackV3/StackTrackerVPC/PublicSubnet1/RouteTable","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"StackTrackerInfraStackV3/StackTrackerVPC/PublicSubnet1"}],"vpcId":{"Ref":"StackTrackerVPC312672F2"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.196.0"}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"StackTrackerInfraStackV3/StackTrackerVPC/PublicSubnet1/RouteTableAssociation","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"StackTrackerVPCPublicSubnet1RouteTable4029C464"},"subnetId":{"Ref":"StackTrackerVPCPublicSubnet1Subnet9BAD6C9F"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.196.0"}},"DefaultRoute":{"id":"DefaultRoute","path":"StackTrackerInfraStackV3/StackTrackerVPC/PublicSubnet1/DefaultRoute","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"StackTrackerVPCIGWA6CDAC5D"},"routeTableId":{"Ref":"StackTrackerVPCPublicSubnet1RouteTable4029C464"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.196.0"}},"EIP":{"id":"EIP","path":"StackTrackerInfraStackV3/StackTrackerVPC/PublicSubnet1/EIP","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Name","value":"StackTrackerInfraStackV3/StackTrackerVPC/PublicSubnet1"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.196.0"}},"NATGateway":{"id":"NATGateway","path":"StackTrackerInfraStackV3/StackTrackerVPC/PublicSubnet1/NATGateway","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["StackTrackerVPCPublicSubnet1EIPD6E66E5D","AllocationId"]},"subnetId":{"Ref":"StackTrackerVPCPublicSubnet1Subnet9BAD6C9F"},"tags":[{"key":"Name","value":"StackTrackerInfraStackV3/StackTrackerVPC/PublicSubnet1"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.196.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.196.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{},{"addNatGateway":["*"]}]}},"PublicSubnet2":{"id":"PublicSubnet2","path":"StackTrackerInfraStackV3/StackTrackerVPC/PublicSubnet2","children":{"Subnet":{"id":"Subnet","path":"StackTrackerInfraStackV3/StackTrackerVPC/PublicSubnet2/Subnet","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2b","cidrBlock":"10.0.1.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"StackTrackerInfraStackV3/StackTrackerVPC/PublicSubnet2"}],"vpcId":{"Ref":"StackTrackerVPC312672F2"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.196.0"}},"Acl":{"id":"Acl","path":"StackTrackerInfraStackV3/StackTrackerVPC/PublicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.196.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"StackTrackerInfraStackV3/StackTrackerVPC/PublicSubnet2/RouteTable","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"StackTrackerInfraStackV3/StackTrackerVPC/PublicSubnet2"}],"vpcId":{"Ref":"StackTrackerVPC312672F2"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.196.0"}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"StackTrackerInfraStackV3/StackTrackerVPC/PublicSubnet2/RouteTableAssociation","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"StackTrackerVPCPublicSubnet2RouteTable33828B7D"},"subnetId":{"Ref":"StackTrackerVPCPublicSubnet2SubnetDA60B8A7"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.196.0"}},"DefaultRoute":{"id":"DefaultRoute","path":"StackTrackerInfraStackV3/StackTrackerVPC/PublicSubnet2/DefaultRoute","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"StackTrackerVPCIGWA6CDAC5D"},"routeTableId":{"Ref":"StackTrackerVPCPublicSubnet2RouteTable33828B7D"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.196.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.196.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"StackTrackerInfraStackV3/StackTrackerVPC/PrivateSubnet1","children":{"Subnet":{"id":"Subnet","path":"StackTrackerInfraStackV3/StackTrackerVPC/PrivateSubnet1/Subnet","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2a","cidrBlock":"10.0.2.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"StackTrackerInfraStackV3/StackTrackerVPC/PrivateSubnet1"}],"vpcId":{"Ref":"StackTrackerVPC312672F2"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.196.0"}},"Acl":{"id":"Acl","path":"StackTrackerInfraStackV3/StackTrackerVPC/PrivateSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.196.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"StackTrackerInfraStackV3/StackTrackerVPC/PrivateSubnet1/RouteTable","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"StackTrackerInfraStackV3/StackTrackerVPC/PrivateSubnet1"}],"vpcId":{"Ref":"StackTrackerVPC312672F2"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.196.0"}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"StackTrackerInfraStackV3/StackTrackerVPC/PrivateSubnet1/RouteTableAssociation","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"StackTrackerVPCPrivateSubnet1RouteTable71CCEAF6"},"subnetId":{"Ref":"StackTrackerVPCPrivateSubnet1Subnet0B7C8E72"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.196.0"}},"DefaultRoute":{"id":"DefaultRoute","path":"StackTrackerInfraStackV3/StackTrackerVPC/PrivateSubnet1/DefaultRoute","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"StackTrackerVPCPublicSubnet1NATGateway0F64B4B5"},"routeTableId":{"Ref":"StackTrackerVPCPrivateSubnet1RouteTable71CCEAF6"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.196.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.196.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"StackTrackerInfraStackV3/StackTrackerVPC/PrivateSubnet2","children":{"Subnet":{"id":"Subnet","path":"StackTrackerInfraStackV3/StackTrackerVPC/PrivateSubnet2/Subnet","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2b","cidrBlock":"10.0.3.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"StackTrackerInfraStackV3/StackTrackerVPC/PrivateSubnet2"}],"vpcId":{"Ref":"StackTrackerVPC312672F2"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.196.0"}},"Acl":{"id":"Acl","path":"StackTrackerInfraStackV3/StackTrackerVPC/PrivateSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.196.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"StackTrackerInfraStackV3/StackTrackerVPC/PrivateSubnet2/RouteTable","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"StackTrackerInfraStackV3/StackTrackerVPC/PrivateSubnet2"}],"vpcId":{"Ref":"StackTrackerVPC312672F2"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.196.0"}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"StackTrackerInfraStackV3/StackTrackerVPC/PrivateSubnet2/RouteTableAssociation","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"StackTrackerVPCPrivateSubnet2RouteTableDD64BAE2"},"subnetId":{"Ref":"StackTrackerVPCPrivateSubnet2Subnet0741B41F"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.196.0"}},"DefaultRoute":{"id":"DefaultRoute","path":"StackTrackerInfraStackV3/StackTrackerVPC/PrivateSubnet2/DefaultRoute","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"StackTrackerVPCPublicSubnet1NATGateway0F64B4B5"},"routeTableId":{"Ref":"StackTrackerVPCPrivateSubnet2RouteTableDD64BAE2"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.196.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.196.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]}},"IsolatedSubnet1":{"id":"IsolatedSubnet1","path":"StackTrackerInfraStackV3/StackTrackerVPC/IsolatedSubnet1","children":{"Subnet":{"id":"Subnet","path":"StackTrackerInfraStackV3/StackTrackerVPC/IsolatedSubnet1/Subnet","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2a","cidrBlock":"10.0.4.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Isolated"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Name","value":"StackTrackerInfraStackV3/StackTrackerVPC/IsolatedSubnet1"}],"vpcId":{"Ref":"StackTrackerVPC312672F2"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.196.0"}},"Acl":{"id":"Acl","path":"StackTrackerInfraStackV3/StackTrackerVPC/IsolatedSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.196.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"StackTrackerInfraStackV3/StackTrackerVPC/IsolatedSubnet1/RouteTable","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"StackTrackerInfraStackV3/StackTrackerVPC/IsolatedSubnet1"}],"vpcId":{"Ref":"StackTrackerVPC312672F2"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.196.0"}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"StackTrackerInfraStackV3/StackTrackerVPC/IsolatedSubnet1/RouteTableAssociation","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"StackTrackerVPCIsolatedSubnet1RouteTableE447399C"},"subnetId":{"Ref":"StackTrackerVPCIsolatedSubnet1Subnet60779DEC"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.196.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.196.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"}]}},"IsolatedSubnet2":{"id":"IsolatedSubnet2","path":"StackTrackerInfraStackV3/StackTrackerVPC/IsolatedSubnet2","children":{"Subnet":{"id":"Subnet","path":"StackTrackerInfraStackV3/StackTrackerVPC/IsolatedSubnet2/Subnet","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2b","cidrBlock":"10.0.5.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Isolated"},{"key":"aws-cdk:subnet-type","value":"Isolated"},{"key":"Name","value":"StackTrackerInfraStackV3/StackTrackerVPC/IsolatedSubnet2"}],"vpcId":{"Ref":"StackTrackerVPC312672F2"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.196.0"}},"Acl":{"id":"Acl","path":"StackTrackerInfraStackV3/StackTrackerVPC/IsolatedSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.196.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"StackTrackerInfraStackV3/StackTrackerVPC/IsolatedSubnet2/RouteTable","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"StackTrackerInfraStackV3/StackTrackerVPC/IsolatedSubnet2"}],"vpcId":{"Ref":"StackTrackerVPC312672F2"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.196.0"}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"StackTrackerInfraStackV3/StackTrackerVPC/IsolatedSubnet2/RouteTableAssociation","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"StackTrackerVPCIsolatedSubnet2RouteTableA0244AE7"},"subnetId":{"Ref":"StackTrackerVPCIsolatedSubnet2SubnetD3AAD45E"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.196.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.196.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":false,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"}]}},"IGW":{"id":"IGW","path":"StackTrackerInfraStackV3/StackTrackerVPC/IGW","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"stacktracker-vpc-v3"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.196.0"}},"VPCGW":{"id":"VPCGW","path":"StackTrackerInfraStackV3/StackTrackerVPC/VPCGW","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"StackTrackerVPCIGWA6CDAC5D"},"vpcId":{"Ref":"StackTrackerVPC312672F2"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.196.0"}},"RestrictDefaultSecurityGroupCustomResource":{"id":"RestrictDefaultSecurityGroupCustomResource","path":"StackTrackerInfraStackV3/StackTrackerVPC/RestrictDefaultSecurityGroupCustomResource","children":{"Default":{"id":"Default","path":"StackTrackerInfraStackV3/StackTrackerVPC/RestrictDefaultSecurityGroupCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.196.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.196.0","metadata":["*"]}},"SecretsManagerEndpoint":{"id":"SecretsManagerEndpoint","path":"StackTrackerInfraStackV3/StackTrackerVPC/SecretsManagerEndpoint","children":{"SecurityGroup":{"id":"SecurityGroup","path":"StackTrackerInfraStackV3/StackTrackerVPC/SecretsManagerEndpoint/SecurityGroup","children":{"Resource":{"id":"Resource","path":"StackTrackerInfraStackV3/StackTrackerVPC/SecretsManagerEndpoint/SecurityGroup/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"StackTrackerInfraStackV3/StackTrackerVPC/SecretsManagerEndpoint/SecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"securityGroupIngress":[{"cidrIp":{"Fn::GetAtt":["StackTrackerVPC312672F2","CidrBlock"]},"ipProtocol":"tcp","fromPort":443,"toPort":443,"description":{"Fn::Join":["",["from ",{"Fn::GetAtt":["StackTrackerVPC312672F2","CidrBlock"]},":443"]]}}],"tags":[{"key":"Name","value":"stacktracker-vpc-v3"}],"vpcId":{"Ref":"StackTrackerVPC312672F2"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.196.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.196.0","metadata":[{"vpc":"*"},{"addIngressRule":[{"canInlineRule":true,"connections":"*","uniqueId":"*"},{},"*",false]}]}},"Resource":{"id":"Resource","path":"StackTrackerInfraStackV3/StackTrackerVPC/SecretsManagerEndpoint/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"stacktracker-vpc-v3"}],"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["StackTrackerVPCSecretsManagerEndpointSecurityGroup388793BB","GroupId"]}],"serviceName":"com.amazonaws.us-west-2.secretsmanager","subnetIds":[{"Ref":"StackTrackerVPCIsolatedSubnet1Subnet60779DEC"},{"Ref":"StackTrackerVPCIsolatedSubnet2SubnetD3AAD45E"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"StackTrackerVPC312672F2"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.196.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.196.0","metadata":[{"vpc":"*","service":{"privateDnsDefault":true,"name":"*","port":"*"},"subnets":{"subnetType":"Isolated"}}]}},"RDSEndpoint":{"id":"RDSEndpoint","path":"StackTrackerInfraStackV3/StackTrackerVPC/RDSEndpoint","children":{"SecurityGroup":{"id":"SecurityGroup","path":"StackTrackerInfraStackV3/StackTrackerVPC/RDSEndpoint/SecurityGroup","children":{"Resource":{"id":"Resource","path":"StackTrackerInfraStackV3/StackTrackerVPC/RDSEndpoint/SecurityGroup/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"StackTrackerInfraStackV3/StackTrackerVPC/RDSEndpoint/SecurityGroup","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"securityGroupIngress":[{"cidrIp":{"Fn::GetAtt":["StackTrackerVPC312672F2","CidrBlock"]},"ipProtocol":"tcp","fromPort":443,"toPort":443,"description":{"Fn::Join":["",["from ",{"Fn::GetAtt":["StackTrackerVPC312672F2","CidrBlock"]},":443"]]}}],"tags":[{"key":"Name","value":"stacktracker-vpc-v3"}],"vpcId":{"Ref":"StackTrackerVPC312672F2"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.196.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.196.0","metadata":[{"vpc":"*"},{"addIngressRule":[{"canInlineRule":true,"connections":"*","uniqueId":"*"},{},"*",false]}]}},"Resource":{"id":"Resource","path":"StackTrackerInfraStackV3/StackTrackerVPC/RDSEndpoint/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"stacktracker-vpc-v3"}],"privateDnsEnabled":true,"securityGroupIds":[{"Fn::GetAtt":["StackTrackerVPCRDSEndpointSecurityGroup092E3F17","GroupId"]}],"serviceName":"com.amazonaws.us-west-2.rds","subnetIds":[{"Ref":"StackTrackerVPCIsolatedSubnet1Subnet60779DEC"},{"Ref":"StackTrackerVPCIsolatedSubnet2SubnetD3AAD45E"}],"vpcEndpointType":"Interface","vpcId":{"Ref":"StackTrackerVPC312672F2"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.196.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.InterfaceVpcEndpoint","version":"2.196.0","metadata":[{"vpc":"*","service":{"privateDnsDefault":true,"name":"*","port":"*"},"subnets":{"subnetType":"Isolated"}}]}},"S3Endpoint":{"id":"S3Endpoint","path":"StackTrackerInfraStackV3/StackTrackerVPC/S3Endpoint","children":{"Resource":{"id":"Resource","path":"StackTrackerInfraStackV3/StackTrackerVPC/S3Endpoint/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCEndpoint","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"stacktracker-vpc-v3"}],"routeTableIds":[{"Ref":"StackTrackerVPCIsolatedSubnet1RouteTableE447399C"},{"Ref":"StackTrackerVPCIsolatedSubnet2RouteTableA0244AE7"}],"serviceName":{"Fn::Join":["",["com.amazonaws.",{"Ref":"AWS::Region"},".s3"]]},"vpcEndpointType":"Gateway","vpcId":{"Ref":"StackTrackerVPC312672F2"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCEndpoint","version":"2.196.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.GatewayVpcEndpoint","version":"2.196.0","metadata":[{"vpc":"*","service":{"name":"*"},"subnets":[{"subnetType":"Isolated"}]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.196.0","metadata":[{"vpcName":"*","maxAzs":"*","natGateways":"*","subnetConfiguration":[{"cidrMask":"*","name":"*","subnetType":"Public"},{"cidrMask":"*","name":"*","subnetType":"Private"},{"cidrMask":"*","name":"*","subnetType":"Isolated"}],"enableDnsHostnames":true,"enableDnsSupport":true}]}},"Custom::VpcRestrictDefaultSGCustomResourceProvider":{"id":"Custom::VpcRestrictDefaultSGCustomResourceProvider","path":"StackTrackerInfraStackV3/Custom::VpcRestrictDefaultSGCustomResourceProvider","children":{"Staging":{"id":"Staging","path":"StackTrackerInfraStackV3/Custom::VpcRestrictDefaultSGCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.196.0"}},"Role":{"id":"Role","path":"StackTrackerInfraStackV3/Custom::VpcRestrictDefaultSGCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.196.0"}},"Handler":{"id":"Handler","path":"StackTrackerInfraStackV3/Custom::VpcRestrictDefaultSGCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.196.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.196.0"}},"ApplicationSecurityGroup":{"id":"ApplicationSecurityGroup","path":"StackTrackerInfraStackV3/ApplicationSecurityGroup","children":{"Resource":{"id":"Resource","path":"StackTrackerInfraStackV3/ApplicationSecurityGroup/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for StackTracker application","groupName":"stacktracker-app-sg-v3","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Ref":"StackTrackerVPC312672F2"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.196.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.196.0","metadata":[{"vpc":"*","securityGroupName":"*","description":"*","allowAllOutbound":true}]}},"DatabaseSecurityGroup":{"id":"DatabaseSecurityGroup","path":"StackTrackerInfraStackV3/DatabaseSecurityGroup","children":{"Resource":{"id":"Resource","path":"StackTrackerInfraStackV3/DatabaseSecurityGroup/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for StackTracker RDS instance V3","securityGroupEgress":[{"cidrIp":"255.255.255.255/32","description":"Disallow all traffic","ipProtocol":"icmp","fromPort":252,"toPort":86}],"securityGroupIngress":[{"cidrIp":"73.97.54.60/32","ipProtocol":"tcp","fromPort":5432,"toPort":5432,"description":"Allow PostgreSQL access from development machine"}],"vpcId":{"Ref":"StackTrackerVPC312672F2"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.196.0"}},"from StackTrackerInfraStackV3ApplicationSecurityGroup9AB62CF4:5432":{"id":"from StackTrackerInfraStackV3ApplicationSecurityGroup9AB62CF4:5432","path":"StackTrackerInfraStackV3/DatabaseSecurityGroup/from StackTrackerInfraStackV3ApplicationSecurityGroup9AB62CF4:5432","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Allow application to connect to database","fromPort":5432,"groupId":{"Fn::GetAtt":["DatabaseSecurityGroup7319C0F6","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["ApplicationSecurityGroup3903A0DC","GroupId"]},"toPort":5432}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.196.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.196.0","metadata":[{"vpc":"*","description":"*","allowAllOutbound":false},{"addIngressRule":["*",{},"*"]},{"addIngressRule":[{"canInlineRule":true,"connections":"*","uniqueId":"*"},{},"*"]}]}},"DatabaseSubnetGroup":{"id":"DatabaseSubnetGroup","path":"StackTrackerInfraStackV3/DatabaseSubnetGroup","children":{"Default":{"id":"Default","path":"StackTrackerInfraStackV3/DatabaseSubnetGroup/Default","attributes":{"aws:cdk:cloudformation:type":"AWS::RDS::DBSubnetGroup","aws:cdk:cloudformation:props":{"dbSubnetGroupDescription":"Mixed subnet group for StackTracker database with public access capability","dbSubnetGroupName":"stacktracker-mixed-subnet-group-v3","subnetIds":[{"Ref":"StackTrackerVPCPublicSubnet1Subnet9BAD6C9F"},{"Ref":"StackTrackerVPCPublicSubnet2SubnetDA60B8A7"},{"Ref":"StackTrackerVPCPrivateSubnet1Subnet0B7C8E72"},{"Ref":"StackTrackerVPCPrivateSubnet2Subnet0741B41F"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_rds.CfnDBSubnetGroup","version":"2.196.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_rds.SubnetGroup","version":"2.196.0","metadata":[{"vpc":"*","subnetGroupName":"*","description":"*","vpcSubnets":{"subnets":["*","*","*","*"]}}]}},"DatabaseSecretV3":{"id":"DatabaseSecretV3","path":"StackTrackerInfraStackV3/DatabaseSecretV3","children":{"Resource":{"id":"Resource","path":"StackTrackerInfraStackV3/DatabaseSecretV3/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SecretsManager::Secret","aws:cdk:cloudformation:props":{"description":"Database credentials for StackTracker v3","generateSecretString":{"secretStringTemplate":"{\"username\":\"stacktracker_admin\"}","generateStringKey":"password","excludePunctuation":true,"passwordLength":16},"name":"stacktracker/db-credentials-v3"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.CfnSecret","version":"2.196.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_secretsmanager.Secret","version":"2.196.0","metadata":[{"secretName":"*","generateSecretString":{"secretStringTemplate":"*","generateStringKey":"*","excludePunctuation":true,"passwordLength":"*"},"description":"*"}]}},"DatabaseParameterGroupV3":{"id":"DatabaseParameterGroupV3","path":"StackTrackerInfraStackV3/DatabaseParameterGroupV3","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.ParameterGroup","version":"2.196.0","metadata":[{"engine":{"engineType":"*","engineVersion":{"fullVersion":"*","majorVersion":"*"},"parameterGroupFamily":"*","engineFamily":"*","defaultUsername":"*"},"parameters":"*","description":"*"}]}},"StackTrackerDBImport":{"id":"StackTrackerDBImport","path":"StackTrackerInfraStackV3/StackTrackerDBImport","constructInfo":{"fqn":"aws-cdk-lib.aws_rds.DatabaseInstanceBase","version":"2.196.0","metadata":[]}},"DatabaseEndpoint":{"id":"DatabaseEndpoint","path":"StackTrackerInfraStackV3/DatabaseEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.196.0"}},"DatabaseNote":{"id":"DatabaseNote","path":"StackTrackerInfraStackV3/DatabaseNote","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.196.0"}},"UploadsBucket":{"id":"UploadsBucket","path":"StackTrackerInfraStackV3/UploadsBucket","children":{"Resource":{"id":"Resource","path":"StackTrackerInfraStackV3/UploadsBucket/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"corsConfiguration":{"corsRules":[{"allowedHeaders":["*"],"allowedMethods":["GET","POST","PUT"],"allowedOrigins":["*"]}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"versioningConfiguration":{"status":"Enabled"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.196.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.196.0","metadata":[{"versioned":true,"encryption":"S3_MANAGED","blockPublicAccess":"*","removalPolicy":"retain","cors":[{"allowedMethods":["GET","POST","PUT"],"allowedOrigins":"*","allowedHeaders":"*"}]},{"addCorsRule":[{"allowedMethods":["GET","POST","PUT"],"allowedOrigins":"*","allowedHeaders":"*"},"*","*"]}]}},"TestInstanceRole":{"id":"TestInstanceRole","path":"StackTrackerInfraStackV3/TestInstanceRole","children":{"ImportTestInstanceRole":{"id":"ImportTestInstanceRole","path":"StackTrackerInfraStackV3/TestInstanceRole/ImportTestInstanceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.196.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"StackTrackerInfraStackV3/TestInstanceRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ec2.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonSSMManagedInstanceCore"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.196.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"StackTrackerInfraStackV3/TestInstanceRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"StackTrackerInfraStackV3/TestInstanceRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:DescribeSecret","secretsmanager:GetSecretValue"],"Effect":"Allow","Resource":{"Ref":"DatabaseSecretV38354E0F1"}}],"Version":"2012-10-17"},"policyName":"TestInstanceRoleDefaultPolicyC7EABD87","roles":[{"Ref":"TestInstanceRole5518C8D3"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.196.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.196.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.196.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]}},"DatabaseTestInstance":{"id":"DatabaseTestInstance","path":"StackTrackerInfraStackV3/DatabaseTestInstance","children":{"InstanceProfile":{"id":"InstanceProfile","path":"StackTrackerInfraStackV3/DatabaseTestInstance/InstanceProfile","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::InstanceProfile","aws:cdk:cloudformation:props":{"roles":[{"Ref":"TestInstanceRole5518C8D3"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnInstanceProfile","version":"2.196.0"}},"Resource":{"id":"Resource","path":"StackTrackerInfraStackV3/DatabaseTestInstance/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Instance","aws:cdk:cloudformation:props":{"availabilityZone":"us-west-2a","iamInstanceProfile":{"Ref":"DatabaseTestInstanceInstanceProfileAB31C302"},"imageId":{"Ref":"SsmParameterValueawsserviceamiamazonlinuxlatestal2023amikernel61x8664C96584B6F00A464EAD1953AFF4B05118Parameter"},"instanceType":"t3.micro","securityGroupIds":[{"Fn::GetAtt":["ApplicationSecurityGroup3903A0DC","GroupId"]}],"subnetId":{"Ref":"StackTrackerVPCPrivateSubnet1Subnet0B7C8E72"},"tags":[{"key":"Name","value":"StackTrackerInfraStackV3/DatabaseTestInstance"}],"userData":{"Fn::Base64":"#!/bin/bash\n#!/bin/bash\nset -e\nexec > >(tee /var/log/user-data.log) 2>&1\necho \"Starting user data script...\"\necho \"Updating system...\"\nyum update -y\necho \"Installing PostgreSQL and jq...\"\nyum install -y postgresql15 jq\necho \"Getting database credentials...\"\naws secretsmanager get-secret-value --secret-id stacktracker/db-credentials-v3 --query SecretString --output text > /tmp/db-creds.json\necho \"Setting up environment variables...\"\nexport PGPASSWORD=$(jq -r .password /tmp/db-creds.json)\nexport DB_HOST=stacktracker-db-v3.clcggkmq0zdo.us-west-2.rds.amazonaws.com\necho \"Testing database connection...\"\necho \"DB_HOST: $DB_HOST\"\npsql -h $DB_HOST -U stacktracker_admin -d stacktracker -c \"SELECT version();\" || { echo \"Database connection to stacktracker-db-v3 failed!\"; exit 1; }\necho \"Database connection to stacktracker-db-v3 successful!\"\necho \"Cleaning up...\"\nrm /tmp/db-creds.json\necho \"User data script completed successfully.\""}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInstance","version":"2.196.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Instance","version":"2.196.0","metadata":[{"vpc":"*","vpcSubnets":{"subnetType":"Private"},"instanceType":"*","machineImage":"*","securityGroup":"*","userData":"*","role":"*"}]}},"SsmParameterValue:--aws--service--ami-amazon-linux-latest--al2023-ami-kernel-6.1-x86_64:C96584B6-F00A-464E-AD19-53AFF4B05118.Parameter":{"id":"SsmParameterValue:--aws--service--ami-amazon-linux-latest--al2023-ami-kernel-6.1-x86_64:C96584B6-F00A-464E-AD19-53AFF4B05118.Parameter","path":"StackTrackerInfraStackV3/SsmParameterValue:--aws--service--ami-amazon-linux-latest--al2023-ami-kernel-6.1-x86_64:C96584B6-F00A-464E-AD19-53AFF4B05118.Parameter","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.196.0"}},"SsmParameterValue:--aws--service--ami-amazon-linux-latest--al2023-ami-kernel-6.1-x86_64:C96584B6-F00A-464E-AD19-53AFF4B05118":{"id":"SsmParameterValue:--aws--service--ami-amazon-linux-latest--al2023-ami-kernel-6.1-x86_64:C96584B6-F00A-464E-AD19-53AFF4B05118","path":"StackTrackerInfraStackV3/SsmParameterValue:--aws--service--ami-amazon-linux-latest--al2023-ami-kernel-6.1-x86_64:C96584B6-F00A-464E-AD19-53AFF4B05118","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.196.0","metadata":[]}},"TestInstanceId":{"id":"TestInstanceId","path":"StackTrackerInfraStackV3/TestInstanceId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.196.0"}},"VpcId":{"id":"VpcId","path":"StackTrackerInfraStackV3/VpcId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.196.0"}},"PrivateSubnetIds":{"id":"PrivateSubnetIds","path":"StackTrackerInfraStackV3/PrivateSubnetIds","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.196.0"}},"PublicSubnetIds":{"id":"PublicSubnetIds","path":"StackTrackerInfraStackV3/PublicSubnetIds","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.196.0"}},"DatabasePort":{"id":"DatabasePort","path":"StackTrackerInfraStackV3/DatabasePort","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.196.0"}},"DatabaseSecretArn":{"id":"DatabaseSecretArn","path":"StackTrackerInfraStackV3/DatabaseSecretArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.196.0"}},"UploadsBucketName":{"id":"UploadsBucketName","path":"StackTrackerInfraStackV3/UploadsBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.196.0"}},"UploadsBucketArn":{"id":"UploadsBucketArn","path":"StackTrackerInfraStackV3/UploadsBucketArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.196.0"}},"ElasticBeanstalkServiceRole":{"id":"ElasticBeanstalkServiceRole","path":"StackTrackerInfraStackV3/ElasticBeanstalkServiceRole","children":{"ImportElasticBeanstalkServiceRole":{"id":"ImportElasticBeanstalkServiceRole","path":"StackTrackerInfraStackV3/ElasticBeanstalkServiceRole/ImportElasticBeanstalkServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.196.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"StackTrackerInfraStackV3/ElasticBeanstalkServiceRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"elasticbeanstalk.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSElasticBeanstalkService"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSElasticBeanstalkEnhancedHealth"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.196.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.196.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"},{"managedPolicyArn":"*"}]}]}},"ElasticBeanstalkInstanceRole":{"id":"ElasticBeanstalkInstanceRole","path":"StackTrackerInfraStackV3/ElasticBeanstalkInstanceRole","children":{"ImportElasticBeanstalkInstanceRole":{"id":"ImportElasticBeanstalkInstanceRole","path":"StackTrackerInfraStackV3/ElasticBeanstalkInstanceRole/ImportElasticBeanstalkInstanceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.196.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"StackTrackerInfraStackV3/ElasticBeanstalkInstanceRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ec2.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AWSElasticBeanstalkWebTier"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AWSElasticBeanstalkWorkerTier"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.196.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"StackTrackerInfraStackV3/ElasticBeanstalkInstanceRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"StackTrackerInfraStackV3/ElasticBeanstalkInstanceRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["secretsmanager:DescribeSecret","secretsmanager:GetSecretValue"],"Effect":"Allow","Resource":{"Ref":"DatabaseSecretV38354E0F1"}}],"Version":"2012-10-17"},"policyName":"ElasticBeanstalkInstanceRoleDefaultPolicyA6F02B5C","roles":[{"Ref":"ElasticBeanstalkInstanceRoleF8F2F8C4"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.196.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.196.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.196.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"},{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]}},"ElasticBeanstalkInstanceProfile":{"id":"ElasticBeanstalkInstanceProfile","path":"StackTrackerInfraStackV3/ElasticBeanstalkInstanceProfile","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::InstanceProfile","aws:cdk:cloudformation:props":{"roles":[{"Ref":"ElasticBeanstalkInstanceRoleF8F2F8C4"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnInstanceProfile","version":"2.196.0"}},"StackTrackerApplication":{"id":"StackTrackerApplication","path":"StackTrackerInfraStackV3/StackTrackerApplication","attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticBeanstalk::Application","aws:cdk:cloudformation:props":{"applicationName":"stacktracker-app-v3","description":"StackTracker Web Application"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_elasticbeanstalk.CfnApplication","version":"2.196.0"}},"StackTrackerEnvironment":{"id":"StackTrackerEnvironment","path":"StackTrackerInfraStackV3/StackTrackerEnvironment","attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticBeanstalk::Environment","aws:cdk:cloudformation:props":{"applicationName":"stacktracker-app-v3","environmentName":"stacktracker-env-v3","optionSettings":[{"namespace":"aws:ec2:vpc","optionName":"VPCId","value":{"Ref":"StackTrackerVPC312672F2"}},{"namespace":"aws:ec2:vpc","optionName":"Subnets","value":{"Fn::Join":["",[{"Ref":"StackTrackerVPCPrivateSubnet1Subnet0B7C8E72"},",",{"Ref":"StackTrackerVPCPrivateSubnet2Subnet0741B41F"}]]}},{"namespace":"aws:ec2:vpc","optionName":"ELBSubnets","value":{"Fn::Join":["",[{"Ref":"StackTrackerVPCPublicSubnet1Subnet9BAD6C9F"},",",{"Ref":"StackTrackerVPCPublicSubnet2SubnetDA60B8A7"}]]}},{"namespace":"aws:autoscaling:launchconfiguration","optionName":"IamInstanceProfile","value":{"Ref":"ElasticBeanstalkInstanceProfile"}},{"namespace":"aws:autoscaling:launchconfiguration","optionName":"SecurityGroups","value":{"Fn::GetAtt":["ApplicationSecurityGroup3903A0DC","GroupId"]}},{"namespace":"aws:autoscaling:launchconfiguration","optionName":"InstanceType","value":"t3.micro"},{"namespace":"aws:elasticbeanstalk:application:environment","optionName":"RDS_HOST","value":"stacktracker-db-v3.clcggkmq0zdo.us-west-2.rds.amazonaws.com"},{"namespace":"aws:elasticbeanstalk:application:environment","optionName":"RDS_PORT","value":"5432"},{"namespace":"aws:elasticbeanstalk:application:environment","optionName":"RDS_DB_NAME","value":"stacktracker"},{"namespace":"aws:elasticbeanstalk:application:environment","optionName":"RDS_SECRET_ARN","value":{"Ref":"DatabaseSecretV38354E0F1"}},{"namespace":"aws:elasticbeanstalk:application:environment","optionName":"S3_BUCKET","value":{"Ref":"UploadsBucket5E5E9B64"}},{"namespace":"aws:elbv2:loadbalancer","optionName":"SecurityGroups","value":{"Fn::GetAtt":["ApplicationSecurityGroup3903A0DC","GroupId"]}},{"namespace":"aws:elasticbeanstalk:application","optionName":"Application Healthcheck URL","value":"/_health"}],"solutionStackName":"64bit Amazon Linux 2023 v4.5.2 running Docker"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_elasticbeanstalk.CfnEnvironment","version":"2.196.0"}},"ElasticBeanstalkEnvironmentUrl":{"id":"ElasticBeanstalkEnvironmentUrl","path":"StackTrackerInfraStackV3/ElasticBeanstalkEnvironmentUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.196.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"StackTrackerInfraStackV3/CDKMetadata","children":{"Default":{"id":"Default","path":"StackTrackerInfraStackV3/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.196.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"StackTrackerInfraStackV3/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.196.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"StackTrackerInfraStackV3/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.196.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.196.0"}},"StackTrackerMonitoringStackV3":{"id":"StackTrackerMonitoringStackV3","path":"StackTrackerMonitoringStackV3","children":{"StackTrackerDashboard":{"id":"StackTrackerDashboard","path":"StackTrackerMonitoringStackV3/StackTrackerDashboard","children":{"Resource":{"id":"Resource","path":"StackTrackerMonitoringStackV3/StackTrackerDashboard/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Dashboard","aws:cdk:cloudformation:props":{"dashboardBody":{"Fn::Join":["",["{\"widgets\":[{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"RDS CPU Utilization\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/RDS\",\"CPUUtilization\",\"DBInstanceIdentifier\",\"stacktracker-db-v3\"],[\"AWS/RDS\",\"FreeableMemory\",\"DBInstanceIdentifier\",\"stacktracker-db-v3\",{\"yAxis\":\"right\"}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"RDS Connections\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/RDS\",\"DatabaseConnections\",\"DBInstanceIdentifier\",\"stacktracker-db-v3\"]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":12,\"y\":0,\"properties\":{\"view\":\"timeSeries\",\"title\":\"RDS Storage\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/RDS\",\"FreeStorageSpace\",\"DBInstanceIdentifier\",\"stacktracker-db-v3\"]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":0,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"EB Environment Health\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ElasticBeanstalk\",\"EnvironmentHealth\",\"EnvironmentName\",\"stacktracker-env-v3\",{\"period\":60}]],\"yAxis\":{}}},{\"type\":\"metric\",\"width\":6,\"height\":6,\"x\":6,\"y\":6,\"properties\":{\"view\":\"timeSeries\",\"title\":\"EB CPU Utilization\",\"region\":\"",{"Ref":"AWS::Region"},"\",\"metrics\":[[\"AWS/ElasticBeanstalk\",\"CPUUtilization\",\"EnvironmentName\",\"stacktracker-env-v3\",{\"period\":60}]],\"yAxis\":{}}}]}"]]},"dashboardName":"StackTracker-Monitoring"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnDashboard","version":"2.196.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Dashboard","version":"2.196.0","metadata":[{"dashboardName":"*"},{"addWidgets":[{"warnings":"*","warningsV2":"*","width":"*","height":"*"},"*","*"]},{"addWidgets":[{"warnings":"*","warningsV2":"*","width":"*","height":"*"},"*"]}]}},"DatabaseCPUAlarm":{"id":"DatabaseCPUAlarm","path":"StackTrackerMonitoringStackV3/DatabaseCPUAlarm","children":{"Resource":{"id":"Resource","path":"StackTrackerMonitoringStackV3/DatabaseCPUAlarm/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"Database CPU utilization is too high","comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":2,"dimensions":[{"name":"DBInstanceIdentifier","value":"stacktracker-db-v3"}],"evaluationPeriods":3,"metricName":"CPUUtilization","namespace":"AWS/RDS","period":300,"statistic":"Average","threshold":80}},"constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.196.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.196.0","metadata":[{"metric":{"warnings":"*"},"threshold":"*","evaluationPeriods":"*","datapointsToAlarm":"*","alarmDescription":"*"}]}},"DatabaseConnectionsAlarm":{"id":"DatabaseConnectionsAlarm","path":"StackTrackerMonitoringStackV3/DatabaseConnectionsAlarm","children":{"Resource":{"id":"Resource","path":"StackTrackerMonitoringStackV3/DatabaseConnectionsAlarm/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"Database connection count is too high","comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":2,"dimensions":[{"name":"DBInstanceIdentifier","value":"stacktracker-db-v3"}],"evaluationPeriods":3,"metricName":"DatabaseConnections","namespace":"AWS/RDS","period":300,"statistic":"Average","threshold":80}},"constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.196.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.196.0","metadata":[{"metric":{"warnings":"*"},"threshold":"*","evaluationPeriods":"*","datapointsToAlarm":"*","alarmDescription":"*"}]}},"EBHealthAlarm":{"id":"EBHealthAlarm","path":"StackTrackerMonitoringStackV3/EBHealthAlarm","children":{"Resource":{"id":"Resource","path":"StackTrackerMonitoringStackV3/EBHealthAlarm/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"EB environment health is degraded","comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":2,"dimensions":[{"name":"EnvironmentName","value":"stacktracker-env-v3"}],"evaluationPeriods":3,"metricName":"EnvironmentHealth","namespace":"AWS/ElasticBeanstalk","period":60,"statistic":"Average","threshold":0.8}},"constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.196.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.196.0","metadata":[{"metric":{"warnings":"*"},"threshold":"*","evaluationPeriods":"*","datapointsToAlarm":"*","alarmDescription":"*"}]}},"StackTrackerWAF":{"id":"StackTrackerWAF","path":"StackTrackerMonitoringStackV3/StackTrackerWAF","attributes":{"aws:cdk:cloudformation:type":"AWS::WAFv2::WebACL","aws:cdk:cloudformation:props":{"defaultAction":{"allow":{}},"rules":[{"name":"AuthRateLimit","priority":1,"statement":{"rateBasedStatement":{"limit":100,"aggregateKeyType":"IP","scopeDownStatement":{"byteMatchStatement":{"searchString":"/auth","fieldToMatch":{"uriPath":{}},"textTransformations":[{"priority":1,"type":"NONE"}],"positionalConstraint":"STARTS_WITH"}}}},"action":{"block":{}},"visibilityConfig":{"cloudWatchMetricsEnabled":true,"metricName":"AuthRateLimitMetric","sampledRequestsEnabled":true}},{"name":"SQLInjectionProtection","priority":2,"statement":{"managedRuleGroupStatement":{"vendorName":"AWS","name":"AWSManagedRulesSQLiRuleSet"}},"overrideAction":{"none":{}},"visibilityConfig":{"cloudWatchMetricsEnabled":true,"metricName":"SQLInjectionMetric","sampledRequestsEnabled":true}}],"scope":"REGIONAL","visibilityConfig":{"cloudWatchMetricsEnabled":true,"metricName":"StackTrackerWAFMetric","sampledRequestsEnabled":true}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_wafv2.CfnWebACL","version":"2.196.0"}},"WafAclArn":{"id":"WafAclArn","path":"StackTrackerMonitoringStackV3/WafAclArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.196.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"StackTrackerMonitoringStackV3/CDKMetadata","children":{"Default":{"id":"Default","path":"StackTrackerMonitoringStackV3/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.196.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"StackTrackerMonitoringStackV3/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.196.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"StackTrackerMonitoringStackV3/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.196.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.196.0"}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}},"constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.196.0"}}}